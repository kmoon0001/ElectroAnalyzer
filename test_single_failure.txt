2025-10-21 14:16:33 [info     ] Task database initialized      db_path=tasks.db
2025-10-21 14:16:33,276 - src.core.centralized_logging - INFO - centralized_logging:setup_logging:403 - Logging system initialized with level=INFO, format=json
2025-10-21 14:16:33,309 - src.core.advanced_security_system - INFO - advanced_security_system:__init__:87 - Advanced security system initialized
2025-10-21 14:16:33,313 - src.core.advanced_ensemble_optimizer - INFO - advanced_ensemble_optimizer:__init__:140 - Advanced ensemble optimizer initialized with learning=True
2025-10-21 14:16:33,313 - src.core.unified_explanation_engine - INFO - unified_explanation_engine:__init__:214 - Unified explanation engine initialized with caching=True
2025-10-21 14:16:33,313 - src.core.multi_tier_cache - INFO - multi_tier_cache:__init__:149 - Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
2025-10-21 14:16:33,313 - src.core.advanced_security_system - INFO - advanced_security_system:__init__:87 - Advanced security system initialized
2025-10-21 14:16:33,313 - src.core.unified_ml_system - INFO - unified_ml_system:__init__:266 - Unified ML system initialized with dependency injection
2025-10-21 14:16:33 [info     ] Enhanced WorkerManager initialized max_queue_size=50 max_workers=2
2025-10-21 14:16:33,461 - src.api.middleware.security_middleware - INFO - security_middleware:setup_security_middleware:248 - Security middleware setup completed
2025-10-21 14:16:33,461 - src.core.enhanced_config - INFO - enhanced_config:load_settings:238 - Configuration loaded successfully for environment: testing
2025-10-21 14:16:33,461 - src.core.enhanced_logging - INFO - Enhanced logging system initialized
2025-10-21 14:16:33,543 - root - INFO - EHR Integration API enabled
2025-10-21 14:16:33,543 - src.core.plugin_system - INFO - Plugin manager initialized
2025-10-21 14:16:33,550 - src.core.plugin_system - INFO - Plugin manager initialized
2025-10-21 14:16:33,550 - root - INFO - Plugin Management API enabled
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\kevin\Desktop\ElectroAnalyzer
configfile: pytest.ini
plugins: anyio-4.11.0, asyncio-0.25.0, cov-6.0.0, mock-3.14.0, xdist-3.6.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None
collecting ... collected 1 item

tests/test_new_components.py::TestSecurityMiddleware::test_sql_injection_detection ERROR

=================================== ERRORS ====================================
____ ERROR at setup of TestSecurityMiddleware.test_sql_injection_detection ____

self = <tests.test_new_components.TestSecurityMiddleware object at 0x0000022CBAAD1490>

    @pytest.fixture
    def security_middleware(self):
        """Create security middleware instance."""
>       return SecurityMiddleware(
            enable_threat_detection=True,
            enable_rate_limiting=True,
            enable_security_logging=True
        )
E       TypeError: SecurityMiddleware.__init__() got an unexpected keyword argument 'enable_rate_limiting'

tests\test_new_components.py:223: TypeError
=========================== short test summary info ===========================
ERROR tests/test_new_components.py::TestSecurityMiddleware::test_sql_injection_detection
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!
============================== 1 error in 0.20s ===============================
