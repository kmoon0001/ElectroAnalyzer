============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\kevin\Desktop\ElectroAnalyzer
configfile: pytest.ini
plugins: anyio-4.11.0, asyncio-0.25.0, cov-6.0.0, mock-3.14.0, xdist-3.6.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None
collecting ... collected 785 items

tests/advanced/test_performance_suite.py::test_performance_suite PASSED  [  0%]
tests/advanced/test_performance_suite.py::test_performance_benchmark_creation PASSED [  0%]
tests/api/test_api_individual_habits.py::test_get_personal_habit_profile PASSED [  0%]
tests/api/test_api_individual_habits.py::test_get_habit_timeline PASSED  [  0%]
tests/api/test_api_individual_habits.py::test_get_personal_goals PASSED  [  0%]
tests/api/test_api_individual_habits.py::test_create_personal_goal PASSED [  0%]
tests/api/test_api_individual_habits.py::test_get_personal_achievements PASSED [  0%]
tests/api/test_api_individual_habits.py::test_get_personal_statistics PASSED [  1%]
tests/api/test_api_individual_habits.py::test_get_all_habits_info PASSED [  1%]
tests/api/test_api_individual_habits.py::test_create_progress_snapshot PASSED [  1%]
tests/api/test_api_rubric_router.py::test_create_rubric PASSED           [  1%]
tests/api/test_api_rubric_router.py::test_read_rubrics_requires_active_user PASSED [  1%]
tests/api/test_api_rubric_router.py::test_read_rubric PASSED             [  1%]
tests/api/test_api_rubric_router.py::test_unauthorized_create_still_allows_read PASSED [  1%]
tests/api/test_api_rubric_router.py::test_update_rubric PASSED           [  1%]
tests/api/test_api_rubric_router.py::test_delete_rubric PASSED           [  2%]
tests/api/test_api_users.py::test_update_current_user_password PASSED    [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_initialization PASSED [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_export_without_weasyprint PASSED [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_export_without_backends PASSED [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_validate_report_data_success PASSED [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_validate_report_data_missing_fields PASSED [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_prepare_pdf_data PASSED [  2%]
tests/api/test_pdf_export.py::TestPDFExportService::test_get_pdf_css_styles PASSED [  3%]
tests/api/test_pdf_export.py::TestPDFExportService::test_convert_charts_for_pdf PASSED [  3%]
tests/api/test_pdf_export.py::TestPDFExportService::test_optimize_content_for_print PASSED [  3%]
tests/api/test_pdf_export.py::TestPDFExportService::test_combine_reports_data PASSED [  3%]
tests/api/test_pdf_export.py::TestPDFExportService::test_calculate_combined_metrics PASSED [  3%]
tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_complete_analysis_workflow ERROR [  3%]
tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_analysis_with_different_document_types ERROR [  3%]
tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_concurrent_analysis ERROR [  3%]
tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_error_handling_invalid_document ERROR [  4%]
tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_analysis_progress_monitoring ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_discovery_workflow ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_lifecycle_management ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_extension_points ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_batch_operations ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_error_handling ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_performance_monitoring ERROR [  4%]
tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_integration_with_analysis ERROR [  5%]
tests/integration/test_compliance_analyzer.py::test_llm_compliance_analyzer_initialization PASSED [  5%]
tests/integration/test_compliance_analyzer.py::test_analyze_document_orchestration PASSED [  5%]
tests/integration/test_compliance_api.py::TestComplianceAPI::test_evaluate_endpoint_success_one_finding PASSED [  5%]
tests/integration/test_compliance_api.py::TestComplianceAPI::test_evaluate_endpoint_fully_compliant PASSED [  5%]
tests/integration/test_compliance_api.py::TestComplianceAPI::test_evaluate_endpoint_missing_signature PASSED [  5%]
tests/integration/test_compliance_api.py::TestComplianceAPI::test_evaluate_endpoint_bad_request PASSED [  5%]
tests/integration/test_confidence_calibration_integration.py::TestConfidenceCalibrationIntegration::test_compliance_analyzer_with_calibration PASSED [  5%]
tests/integration/test_confidence_calibration_integration.py::TestConfidenceCalibrationIntegration::test_confidence_threshold_with_calibration PASSED [  6%]
tests/integration/test_confidence_calibration_integration.py::TestConfidenceCalibrationIntegration::test_calibration_metrics_retrieval PASSED [  6%]
tests/integration/test_confidence_calibration_integration.py::TestConfidenceCalibrationIntegration::test_calibrator_training_with_feedback PASSED [  6%]
tests/integration/test_confidence_calibration_integration.py::TestCalibrationTrainer::test_feedback_collector_widget_creation PASSED [  6%]
tests/integration/test_confidence_calibration_integration.py::TestCalibrationTrainer::test_feedback_processing_and_storage PASSED [  6%]
tests/integration/test_confidence_calibration_integration.py::TestCalibrationTrainer::test_feedback_statistics PASSED [  6%]
tests/integration/test_confidence_calibration_integration.py::TestEndToEndCalibration::test_full_calibration_workflow PASSED [  6%]
tests/integration/test_crud.py::test_get_dashboard_statistics PASSED     [  7%]
tests/integration/test_crud.py::test_get_organizational_metrics PASSED   [  7%]
tests/integration/test_crud.py::test_get_discipline_breakdown PASSED     [  7%]
tests/integration/test_crud.py::test_get_team_performance_trends PASSED  [  7%]
tests/integration/test_crud.py::test_get_benchmark_data PASSED           [  7%]
tests/integration/test_crud.py::test_find_similar_report_vector_search PASSED [  7%]
tests/integration/test_crud.py::test_find_similar_report_fallback PASSED [  7%]
tests/integration/test_dashboard_analytics.py::test_get_director_dashboard_with_filters PASSED [  7%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_health_endpoints_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_metrics_endpoint_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_api_documentation_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_middleware_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_error_handling_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_websocket_integration FAILED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_security_headers_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_cors_integration PASSED [  8%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_rate_limiting_integration PASSED [  9%]
tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_database_integration FAILED [  9%]
tests/integration/test_enhanced_features_integration.py::TestPerformanceIntegration::test_metrics_collection_integration FAILED [  9%]
tests/integration/test_enhanced_features_integration.py::TestPerformanceIntegration::test_performance_monitoring_integration FAILED [  9%]
tests/integration/test_enhanced_features_integration.py::TestPerformanceIntegration::test_system_metrics_integration PASSED [  9%]
tests/integration/test_enhanced_features_integration.py::TestSecurityIntegration::test_input_validation_integration PASSED [  9%]
tests/integration/test_enhanced_features_integration.py::TestSecurityIntegration::test_xss_protection_integration PASSED [  9%]
tests/integration/test_enhanced_features_integration.py::TestSecurityIntegration::test_security_headers_integration PASSED [  9%]
tests/integration/test_enhanced_features_integration.py::TestSecurityIntegration::test_cors_security_integration PASSED [ 10%]
tests/integration/test_iterative_retrieval.py::test_iterative_retrieval_orchestration PASSED [ 10%]
tests/integration/test_iterative_retrieval.py::test_iterative_retrieval_data_aggregation PASSED [ 10%]
tests/integration/test_new_features_integration.py::TestNewFeaturesIntegration::test_pdf_export_integration PASSED [ 10%]
tests/integration/test_new_features_integration.py::TestNewFeaturesIntegration::test_multi_agent_workflow_integration PASSED [ 10%]
tests/integration/test_new_features_integration.py::TestNewFeaturesIntegration::test_error_handler_integration PASSED [ 10%]
tests/integration/test_new_features_integration.py::TestNewFeaturesIntegration::test_performance_monitor_integration PASSED [ 10%]
tests/integration/test_new_features_integration.py::TestNewFeaturesIntegration::test_plugin_system_integration PASSED [ 10%]
tests/integration/test_new_features_integration.py::TestNewFeaturesIntegration::test_end_to_end_workflow PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestFeatureInteroperability::test_error_handling_with_performance_monitoring PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestFeatureInteroperability::test_plugin_system_with_error_handling PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestSystemStability::test_concurrent_operations PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestSystemStability::test_memory_usage_under_load PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestSystemStability::test_error_recovery_mechanisms PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestPerformanceOptimization::test_performance_monitoring_accuracy PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestPerformanceOptimization::test_bottleneck_detection PASSED [ 11%]
tests/integration/test_new_features_integration.py::TestPerformanceOptimization::test_system_health_monitoring PASSED [ 12%]
tests/integration/test_performance_integration.py::TestPerformanceIntegration::test_performance_manager_initialization PASSED [ 12%]
tests/integration/test_performance_integration.py::TestPerformanceIntegration::test_cache_service_integration PASSED [ 12%]
tests/integration/test_performance_integration.py::TestPerformanceIntegration::test_performance_integration_service PASSED [ 12%]
tests/integration/test_performance_integration.py::TestPerformanceIntegration::test_memory_pressure_handling PASSED [ 12%]
tests/integration/test_performance_integration.py::TestPerformanceIntegration::test_performance_status_widget_creation SKIPPED [ 12%]
tests/integration/test_performance_integration.py::TestPerformanceIntegration::test_performance_settings_dialog_creation SKIPPED [ 12%]
tests/logic/test_hybrid_retriever.py::test_retriever_initialization PASSED [ 12%]
tests/logic/test_hybrid_retriever.py::test_rrf_ranking_logic PASSED      [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_single_request_performance FAILED [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_concurrent_requests_performance PASSED [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_middleware_performance_impact PASSED [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_metrics_collection_performance FAILED [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_error_handling_performance PASSED [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_memory_usage_under_load FAILED [ 13%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_database_performance_under_load PASSED [ 14%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_websocket_performance FAILED [ 14%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_api_documentation_performance PASSED [ 14%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_security_headers_performance FAILED [ 14%]
tests/performance/test_load_performance.py::TestPerformanceLoad::test_rate_limiting_performance FAILED [ 14%]
tests/performance/test_load_performance.py::TestStressTesting::test_high_concurrency_stress PASSED [ 14%]
tests/performance/test_load_performance.py::TestStressTesting::test_sustained_load_stress FAILED [ 14%]
tests/performance/test_load_performance.py::TestStressTesting::test_memory_leak_stress PASSED [ 14%]
tests/performance/test_load_performance.py::TestStressTesting::test_error_recovery_stress PASSED [ 15%]
tests/regression/test_chat_button_visibility.py::test_chat_button_visibility SKIPPED [ 15%]
tests/regression/test_code_cleanup.py::test_code_cleanup SKIPPED (ma...) [ 15%]
tests/regression/test_comprehensive_improvements.py::test_comprehensive_improvements SKIPPED [ 15%]
tests/regression/test_final_improvements.py::test_ui_improvements SKIPPED [ 15%]
tests/regression/test_main_window_improvements.py::test_keyboard_shortcuts_help SKIPPED [ 15%]
tests/regression/test_main_window_improvements.py::test_preferences_structure SKIPPED [ 15%]
tests/regression/test_main_window_improvements.py::test_notification_types SKIPPED [ 15%]
tests/regression/test_scaling_improvements.py::test_scaling_improvements SKIPPED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_sql_injection_protection PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_xss_protection PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_no_sql_injection_protection PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_command_injection_protection PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_path_traversal_protection PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_security_headers_presence PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_cors_security PASSED [ 16%]
tests/security/test_security_validation.py::TestSecurityValidation::test_rate_limiting_security PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_input_size_limits PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_content_type_security PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_http_method_security PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_error_information_disclosure PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_authentication_bypass_attempts PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_session_security PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_csrf_protection PASSED [ 17%]
tests/security/test_security_validation.py::TestSecurityValidation::test_information_leakage_prevention PASSED [ 18%]
tests/security/test_security_validation.py::TestSecurityValidation::test_timing_attack_protection PASSED [ 18%]
tests/test_api.py::test_read_root PASSED                                 [ 18%]
tests/test_api.py::test_analyze_document_endpoint SKIPPED (Fixture a...) [ 18%]
tests/test_api.py::test_get_dashboard_reports_endpoint_empty SKIPPED     [ 18%]
tests/test_api_analysis.py::test_analyze_document_api_route ERROR        [ 18%]
tests/test_api_analysis.py::test_analyze_document_rejects_invalid_strictness ERROR [ 18%]
tests/test_api_analysis.py::test_analyze_document_rejects_oversized_file ERROR [ 18%]
tests/test_api_analysis.py::test_run_analysis_and_save_persists_strictness_and_metadata PASSED [ 19%]
tests/test_initial.py::test_initial_setup PASSED                         [ 19%]
tests/test_mock_analysis_flow.py::test_full_mock_analysis_flow PASSED    [ 19%]
tests/test_new_components.py::TestUnifiedMLSystem::test_document_analysis_success PASSED [ 19%]
tests/test_new_components.py::TestUnifiedMLSystem::test_document_analysis_with_caching FAILED [ 19%]
tests/test_new_components.py::TestUnifiedMLSystem::test_circuit_breaker_functionality PASSED [ 19%]
tests/test_new_components.py::TestUnifiedMLSystem::test_performance_monitoring FAILED [ 19%]
tests/test_new_components.py::TestUnifiedMLSystem::test_system_health_check PASSED [ 20%]
tests/test_new_components.py::TestSecurityMiddleware::test_sql_injection_detection ERROR [ 20%]
tests/test_new_components.py::TestSecurityMiddleware::test_xss_detection ERROR [ 20%]
tests/test_new_components.py::TestSecurityMiddleware::test_rate_limiting ERROR [ 20%]
tests/test_new_components.py::TestCachingSystem::test_cache_operations FAILED [ 20%]
tests/test_new_components.py::TestCachingSystem::test_cache_performance PASSED [ 20%]
tests/test_new_components.py::TestTypeSafety::test_result_type_success PASSED [ 20%]
tests/test_new_components.py::TestTypeSafety::test_result_type_failure PASSED [ 20%]
tests/test_new_components.py::TestTypeSafety::test_string_validator FAILED [ 21%]
tests/test_new_components.py::TestTypeSafety::test_email_validator FAILED [ 21%]
tests/test_new_components.py::TestTypeSafety::test_error_handler FAILED  [ 21%]
tests/test_new_components.py::TestPerformance::test_ml_system_performance PASSED [ 21%]
tests/test_new_components.py::TestPerformance::test_cache_performance PASSED [ 21%]
tests/test_new_components.py::TestIntegration::test_full_pipeline_integration FAILED [ 21%]
tests/test_new_components.py::TestBenchmarks::test_ml_system_benchmark PASSED [ 21%]
tests/test_new_components.py::TestBenchmarks::test_cache_benchmark PASSED [ 21%]
tests/unit/test_ai_guardrails_service.py::TestContentSafetyGuardrail::test_safe_content_passes PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestContentSafetyGuardrail::test_harmful_language_detected PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestContentSafetyGuardrail::test_inappropriate_medical_claims_detected PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestContentSafetyGuardrail::test_professional_content_passes PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestBiasDetectionGuardrail::test_inclusive_language_passes PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestBiasDetectionGuardrail::test_demographic_bias_detected PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestBiasDetectionGuardrail::test_socioeconomic_bias_detected PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestBiasDetectionGuardrail::test_geographic_bias_detected PASSED [ 22%]
tests/unit/test_ai_guardrails_service.py::TestAccuracyValidationGuardrail::test_qualified_statements_pass PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestAccuracyValidationGuardrail::test_potential_hallucination_detected PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestAccuracyValidationGuardrail::test_overconfident_statements_detected PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestEthicalComplianceGuardrail::test_ethical_content_passes PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestEthicalComplianceGuardrail::test_ethical_violation_detected PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestEthicalComplianceGuardrail::test_missing_ethical_considerations_detected PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestTransparencyEnforcementGuardrail::test_transparent_content_passes PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestTransparencyEnforcementGuardrail::test_missing_ai_disclosure_detected PASSED [ 23%]
tests/unit/test_ai_guardrails_service.py::TestTransparencyEnforcementGuardrail::test_missing_confidence_indicators_detected PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_service_initialization PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_safe_content_evaluation PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_unsafe_content_evaluation PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_content_modification PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_transparency_statements_added PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_confidence_adjustments PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_guardrail_statistics PASSED [ 24%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_guardrail_enable_disable PASSED [ 25%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_custom_guardrail_addition PASSED [ 25%]
tests/unit/test_ai_guardrails_service.py::TestAIGuardrailsService::test_violation_history_management PASSED [ 25%]
tests/unit/test_ai_guardrails_service.py::TestIntegrationScenarios::test_healthcare_specific_content PASSED [ 25%]
tests/unit/test_ai_guardrails_service.py::TestIntegrationScenarios::test_multiple_violation_types PASSED [ 25%]
tests/unit/test_ai_guardrails_service.py::TestIntegrationScenarios::test_edge_case_empty_content PASSED [ 25%]
tests/unit/test_ai_guardrails_service.py::TestIntegrationScenarios::test_edge_case_very_long_content PASSED [ 25%]
tests/unit/test_analysis_service_pipeline.py::test_analysis_service_uses_analysis_utils FAILED [ 25%]
tests/unit/test_analysis_workflow_logger.py::test_log_analysis_start_records_session_metadata PASSED [ 26%]
tests/unit/test_analysis_workflow_logger.py::test_log_api_request_sanitises_payload PASSED [ 26%]
tests/unit/test_analysis_workflow_logger.py::test_log_workflow_timeout_appends_step PASSED [ 26%]
tests/unit/test_cache_service.py::TestMemoryAwareLRUCache::test_basic_cache_operations PASSED [ 26%]
tests/unit/test_cache_service.py::TestMemoryAwareLRUCache::test_ttl_expiration PASSED [ 26%]
tests/unit/test_cache_service.py::TestMemoryAwareLRUCache::test_memory_pressure_cleanup PASSED [ 26%]
tests/unit/test_cache_service.py::TestSpecializedCaches::test_embedding_cache PASSED [ 26%]
tests/unit/test_cache_service.py::TestSpecializedCaches::test_ner_cache PASSED [ 27%]
tests/unit/test_cache_service.py::TestSpecializedCaches::test_document_cache PASSED [ 27%]
tests/unit/test_cache_service.py::TestSpecializedCaches::test_llm_response_cache PASSED [ 27%]
tests/unit/test_cache_service.py::TestCacheIntegrationService::test_embedding_integration PASSED [ 27%]
tests/unit/test_cache_service.py::TestCacheIntegrationService::test_performance_stats PASSED [ 27%]
tests/unit/test_cache_service.py::test_cache_stats PASSED                [ 27%]
tests/unit/test_cache_service.py::test_cleanup_all_caches PASSED         [ 27%]
tests/unit/test_compliance_analyzer_unit.py::test_analyze_document_orchestration PASSED [ 27%]
tests/unit/test_compliance_analyzer_unit.py::test_format_rules_for_prompt PASSED [ 28%]
tests/unit/test_compliance_service.py::TestComplianceService::test_document_type_mismatch PASSED [ 28%]
tests/unit/test_compliance_service.py::TestComplianceService::test_finding_for_missing_required_keyword PASSED [ 28%]
tests/unit/test_compliance_service.py::TestComplianceService::test_finding_for_positive_and_negative_keywords PASSED [ 28%]
tests/unit/test_compliance_service.py::TestComplianceService::test_no_finding_for_unrelated_discipline PASSED [ 28%]
tests/unit/test_compliance_service.py::TestComplianceService::test_no_finding_when_negative_keyword_is_present_for_positive_rule PASSED [ 28%]
tests/unit/test_compliance_service.py::TestComplianceService::test_no_finding_when_required_keyword_present PASSED [ 28%]
tests/unit/test_confidence_calibrator.py::TestTemperatureScaling::test_temperature_scaling_initialization PASSED [ 28%]
tests/unit/test_confidence_calibrator.py::TestTemperatureScaling::test_temperature_scaling_fit_and_calibrate PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestTemperatureScaling::test_temperature_scaling_sigmoid_stability PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestPlattScaling::test_platt_scaling_initialization PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestPlattScaling::test_platt_scaling_fit_and_calibrate PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestIsotonicCalibration::test_isotonic_calibration_initialization PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestIsotonicCalibration::test_isotonic_calibration_fit_and_calibrate PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_initialization PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_specific_method PASSED [ 29%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_auto_selection PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_ece_calculation PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_brier_score PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_save_load PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_insufficient_data PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_confidence_calibrator_edge_cases PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrator::test_get_calibration_metrics PASSED [ 30%]
tests/unit/test_confidence_calibrator.py::TestConfidenceCalibrationIntegration::test_realistic_compliance_scenario PASSED [ 30%]
tests/unit/test_crud_enhancements.py::TestInputValidation::test_get_user_by_username_validation PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestInputValidation::test_get_rubrics_pagination_validation PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestInputValidation::test_delete_rubric_validation PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestErrorHandling::test_create_user_error_handling PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestErrorHandling::test_dashboard_statistics_error_recovery PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestBulkOperations::test_bulk_create_findings_validation PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestBulkOperations::test_bulk_create_findings_risk_validation PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestBulkOperations::test_bulk_create_findings_confidence_validation PASSED [ 31%]
tests/unit/test_crud_enhancements.py::TestEnhancedReporting::test_create_analysis_report_validation PASSED [ 32%]
tests/unit/test_crud_enhancements.py::TestEnhancedReporting::test_get_benchmark_data_parameters PASSED [ 32%]
tests/unit/test_crud_enhancements.py::TestDatabaseHealth::test_get_database_health_success PASSED [ 32%]
tests/unit/test_crud_enhancements.py::TestDatabaseHealth::test_get_database_health_error PASSED [ 32%]
tests/unit/test_crud_enhancements.py::TestDatabaseHealth::test_cleanup_old_data_dry_run PASSED [ 32%]
tests/unit/test_crud_enhancements.py::TestHabitProgressValidation::test_create_habit_progress_snapshot_validation PASSED [ 32%]
tests/unit/test_data_aggregator.py::TestAggregationLevel::test_aggregation_levels PASSED [ 32%]
tests/unit/test_data_integration_service.py::TestDataSourceMetadata::test_metadata_creation PASSED [ 32%]
tests/unit/test_data_integration_service.py::TestDataSourceMetadata::test_metadata_to_dict PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestDataQuery::test_query_creation PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestDataQuery::test_query_to_dict PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestDataResult::test_result_creation PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestDataResult::test_result_to_dict PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_provider_initialization PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_supports_report_type PASSED [ 33%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_get_data PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_query_data PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_get_metadata PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_health_check PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestPerformanceDataProvider::test_caching PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_service_initialization PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_register_provider PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_unregister_provider PASSED [ 34%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_query_data PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_get_available_providers PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_health_check_all_providers PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_get_provider_registry PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestDataIntegrationService::test_clear_all_caches PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestIntegrationScenarios::test_error_handling_in_query PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestIntegrationScenarios::test_no_providers_for_source_type PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestIntegrationScenarios::test_provider_unavailable PASSED [ 35%]
tests/unit/test_data_integration_service.py::TestServiceEnhancements::test_service_stats PASSED [ 36%]
tests/unit/test_data_integration_service.py::TestServiceEnhancements::test_query_validation PASSED [ 36%]
tests/unit/test_data_integration_service.py::TestServiceEnhancements::test_query_stats_tracking PASSED [ 36%]
tests/unit/test_data_integration_service.py::TestServiceEnhancements::test_provider_validation PASSED [ 36%]
tests/unit/test_database_crud.py::test_get_user PASSED                   [ 36%]
tests/unit/test_database_crud.py::test_get_user_by_username PASSED       [ 36%]
tests/unit/test_database_crud.py::test_change_user_password PASSED       [ 36%]
tests/unit/test_database_crud.py::test_create_rubric PASSED              [ 36%]
tests/unit/test_database_crud.py::test_get_rubrics PASSED                [ 37%]
tests/unit/test_database_crud.py::test_get_rubric FAILED                 [ 37%]
tests/unit/test_database_crud.py::test_update_rubric FAILED              [ 37%]
tests/unit/test_database_crud.py::test_delete_rubric FAILED              [ 37%]
tests/unit/test_database_crud.py::test_get_dashboard_statistics PASSED   [ 37%]
tests/unit/test_database_crud.py::test_get_organizational_metrics PASSED [ 37%]
tests/unit/test_database_crud.py::test_get_discipline_breakdown PASSED   [ 37%]
tests/unit/test_database_crud.py::test_get_team_performance_trends PASSED [ 37%]
tests/unit/test_database_crud.py::test_get_benchmark_data PASSED         [ 38%]
tests/unit/test_database_crud.py::test_find_similar_report PASSED        [ 38%]
tests/unit/test_database_crud.py::test_create_analysis_report PASSED     [ 38%]
tests/unit/test_database_crud.py::test_get_reports PASSED                [ 38%]
tests/unit/test_database_crud.py::test_get_findings_summary PASSED       [ 38%]
tests/unit/test_database_crud.py::test_get_total_findings_count PASSED   [ 38%]
tests/unit/test_document_classifier.py::test_classify_evaluation PASSED  [ 38%]
tests/unit/test_document_classifier.py::test_classify_progress_note PASSED [ 38%]
tests/unit/test_document_classifier.py::test_classify_unknown PASSED     [ 39%]
tests/unit/test_document_classifier.py::test_classify_case_insensitivity PASSED [ 39%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_database_error_categorization PASSED [ 39%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_ai_model_error_categorization PASSED [ 39%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_authentication_error_categorization PASSED [ 39%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_validation_error_categorization PASSED [ 39%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_critical_error_severity PASSED [ 39%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_request_context_collection PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_sensitive_headers_redaction PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_error_suggestions_generation PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_stack_trace_extraction PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_error_id_generation PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_user_friendly_message_generation PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_error_logging PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_critical_error_logging PASSED [ 40%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_error_details_extraction PASSED [ 41%]
tests/unit/test_enhanced_error_context.py::TestErrorContextManager::test_unknown_error_categorization PASSED [ 41%]
tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_http_exception_handling PASSED [ 41%]
tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_generic_exception_handling FAILED [ 41%]
tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_debug_mode_response FAILED [ 41%]
tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_error_handler_exception_safety FAILED [ 41%]
tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_request_context_in_error_response PASSED [ 41%]
tests/unit/test_enhanced_habit_mapper.py::TestSevenHabitsFramework::test_initialization_default PASSED [ 41%]
tests/unit/test_enhanced_habit_mapper.py::TestSevenHabitsFramework::test_initialization_with_ai PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestSevenHabitsFramework::test_all_seven_habits_present PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestSevenHabitsFramework::test_habit_structure_complete PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_1_proactive_mapping PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_2_begin_with_end_mapping PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_3_put_first_things_first_mapping PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_4_think_win_win_mapping PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_5_seek_first_to_understand_mapping PASSED [ 42%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_6_synergize_mapping PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_habit_7_sharpen_the_saw_mapping PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_default_to_habit_1_no_matches PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestRuleBasedMapping::test_confidence_scoring PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestAIPoweredMapping::test_ai_mapping_called_when_enabled PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestAIPoweredMapping::test_ai_mapping_fallback_when_llm_not_ready PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestAIPoweredMapping::test_ai_mapping_with_context PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitDetails::test_get_habit_details PASSED [ 43%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitDetails::test_get_all_habits PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitDetails::test_habit_has_clinical_examples PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitDetails::test_habit_has_improvement_strategies PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitProgression::test_progression_metrics_calculation PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitProgression::test_mastery_level_calculation PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitProgression::test_focus_areas_identification PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitProgression::test_empty_findings_history PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestBackwardCompatibility::test_legacy_function_works PASSED [ 44%]
tests/unit/test_enhanced_habit_mapper.py::TestBackwardCompatibility::test_legacy_function_returns_correct_format PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitContent::test_all_habits_have_unique_numbers PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitContent::test_all_habits_have_principles PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitContent::test_all_habits_have_clinical_applications PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitContent::test_keywords_are_lowercase PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitContent::test_no_empty_strategies PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestHabitContent::test_no_empty_examples PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestEdgeCases::test_empty_finding PASSED [ 45%]
tests/unit/test_enhanced_habit_mapper.py::TestEdgeCases::test_finding_with_none_values PASSED [ 46%]
tests/unit/test_enhanced_habit_mapper.py::TestEdgeCases::test_invalid_habit_id_in_progression PASSED [ 46%]
tests/unit/test_enhanced_habit_mapper.py::TestEdgeCases::test_get_invalid_habit_details PASSED [ 46%]
tests/unit/test_guideline_service.py::test_guideline_service_initialization_and_caching PASSED [ 46%]
tests/unit/test_guideline_service.py::test_guideline_service_search PASSED [ 46%]
tests/unit/test_guideline_service_logic.py::test_search_successful_orchestration PASSED [ 46%]
tests/unit/test_guideline_service_logic.py::test_search_returns_empty_if_index_not_ready PASSED [ 46%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_valid_json_request PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_sql_injection_prevention PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_xss_prevention PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_request_size_limit PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_invalid_content_type PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_query_parameter_sanitization PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_valid_query_parameters PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_request_id_generation PASSED [ 47%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_security_headers_added PASSED [ 48%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_middleware_error_handling PASSED [ 48%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_empty_request_body PASSED [ 48%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_large_field_value PASSED [ 48%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_control_character_removal PASSED [ 48%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_multipart_form_data PASSED [ 48%]
tests/unit/test_input_validation_middleware.py::TestInputValidationMiddleware::test_url_encoded_data PASSED [ 48%]
tests/unit/test_license_manager.py::test_check_license_status_recovers_from_corrupted_file PASSED [ 48%]
tests/unit/test_llm_service_backend.py::test_ctransformers_load_uses_expected_kwargs PASSED [ 49%]
tests/unit/test_llm_service_backend.py::test_transformers_generate_applies_stop_sequences FAILED [ 49%]
tests/unit/test_memory_manager.py::TestMemoryMonitor::test_memory_monitor_initialization PASSED [ 49%]
tests/unit/test_memory_manager.py::TestMemoryMonitor::test_get_current_metrics PASSED [ 49%]
tests/unit/test_memory_manager.py::TestMemoryMonitor::test_pressure_level_detection PASSED [ 49%]
tests/unit/test_memory_manager.py::TestMemoryMonitor::test_callback_management PASSED [ 49%]
tests/unit/test_memory_manager.py::TestMemoryMonitor::test_monitoring_lifecycle PASSED [ 49%]
tests/unit/test_memory_manager.py::TestResourceTracker::test_resource_registration PASSED [ 49%]
tests/unit/test_memory_manager.py::TestResourceTracker::test_access_time_update PASSED [ 50%]
tests/unit/test_memory_manager.py::TestResourceTracker::test_total_usage_calculation PASSED [ 50%]
tests/unit/test_memory_manager.py::TestResourceTracker::test_stale_resource_detection PASSED [ 50%]
tests/unit/test_memory_manager.py::TestMemoryOptimizer::test_optimization_callback_registration PASSED [ 50%]
tests/unit/test_memory_manager.py::TestMemoryOptimizer::test_memory_optimization PASSED [ 50%]
tests/unit/test_memory_manager.py::TestMemoryOptimizer::test_garbage_collection_strategy PASSED [ 50%]
tests/unit/test_memory_manager.py::TestMemoryManager::test_memory_manager_initialization PASSED [ 50%]
tests/unit/test_memory_manager.py::TestMemoryManager::test_resource_allocation_configuration PASSED [ 50%]
tests/unit/test_memory_manager.py::TestMemoryManager::test_resource_registration PASSED [ 51%]
tests/unit/test_memory_manager.py::TestMemoryManager::test_memory_status_reporting PASSED [ 51%]
tests/unit/test_memory_manager.py::TestMemoryManager::test_pressure_based_optimization PASSED [ 51%]
tests/unit/test_memory_manager.py::TestMemoryManager::test_lifecycle_management PASSED [ 51%]
tests/unit/test_memory_manager.py::TestIntegration::test_end_to_end_memory_management PASSED [ 51%]
tests/unit/test_memory_manager.py::TestIntegration::test_memory_pressure_callback_chain PASSED [ 51%]
tests/unit/test_metrics_collector.py::TestPerformanceMetric::test_metric_creation PASSED [ 51%]
tests/unit/test_metrics_collector.py::TestPerformanceMetric::test_metric_to_dict PASSED [ 51%]
tests/unit/test_metrics_collector.py::TestPerformanceMetric::test_metric_string_representation PASSED [ 52%]
tests/unit/test_metrics_collector.py::TestPerformanceMetric::test_metric_equality PASSED [ 52%]
tests/unit/test_metrics_collector.py::TestMetricSource::test_metric_source_health_tracking PASSED [ 52%]
tests/unit/test_metrics_collector.py::TestMetricSource::test_metric_source_last_collection_time PASSED [ 52%]
tests/unit/test_metrics_collector.py::TestSystemMetricsSource::test_system_source_availability PASSED [ 52%]
tests/unit/test_metrics_collector.py::TestSystemMetricsSource::test_system_metrics_collection FAILED [ 52%]
tests/unit/test_metrics_collector.py::TestSystemMetricsSource::test_system_metrics_error_handling FAILED [ 52%]
tests/unit/test_metrics_collector.py::TestApplicationMetricsSource::test_application_source_initialization PASSED [ 52%]
tests/unit/test_metrics_collector.py::TestApplicationMetricsSource::test_application_metrics_collection FAILED [ 53%]
tests/unit/test_metrics_collector.py::TestApplicationMetricsSource::test_application_metrics_validation PASSED [ 53%]
tests/unit/test_metrics_collector.py::TestApplicationMetricsSource::test_application_metrics_reset PASSED [ 53%]
tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_source_initialization PASSED [ 53%]
tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_metrics_collection FAILED [ 53%]
tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_metrics_validation PASSED [ 53%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_collector_initialization PASSED [ 53%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_source_registration PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_source_unregistration PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_metrics_collection FAILED [ 54%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_callback_system PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_metrics_buffer PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_source_status PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestMetricsCollector::test_collector_cleanup PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestGlobalFunctions::test_global_collector_singleton PASSED [ 54%]
tests/unit/test_metrics_collector.py::TestGlobalFunctions::test_convenience_functions PASSED [ 55%]
tests/unit/test_metrics_collector.py::TestGlobalFunctions::test_convenience_functions_error_handling PASSED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_initialization PASSED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_insufficient_training_data FAILED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_successful_training_and_deployment FAILED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_training_with_insufficient_improvement FAILED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_should_retrain_time_based PASSED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_get_next_training_time PASSED [ 55%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_update_training_metadata PASSED [ 56%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_training_error_handling FAILED [ 56%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_skipped_training_due_to_time FAILED [ 56%]
tests/unit/test_ml_trainer.py::test_legacy_function_compatibility FAILED [ 56%]
tests/unit/test_ml_trainer.py::TestMLTrainingIntegration::test_end_to_end_training_pipeline FAILED [ 56%]
tests/unit/test_ner.py::TestNERPipeline::test_initialization_with_empty_models PASSED [ 56%]
tests/unit/test_ner.py::TestNERPipeline::test_initialization_with_default_models PASSED [ 56%]
tests/unit/test_ner.py::TestNERPipeline::test_extract_entities_empty_text PASSED [ 56%]
tests/unit/test_ner.py::TestNERPipeline::test_extract_entities_no_pipelines PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_initialization PASSED      [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_extract_entities_empty_text PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_extract_entities_with_text PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_extract_clinician_name_empty_text PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_extract_clinician_name_with_title PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_extract_clinician_name_with_signature PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_extract_medical_entities_structure PASSED [ 57%]
tests/unit/test_ner.py::TestNERAnalyzer::test_clinical_patterns_exist PASSED [ 58%]
tests/unit/test_ner.py::TestNERAnalyzer::test_deduplicate_entities PASSED [ 58%]
tests/unit/test_ner.py::TestNERIntegration::test_clinical_text_analysis PASSED [ 58%]
tests/unit/test_ner.py::TestNERIntegration::test_error_handling PASSED   [ 58%]
tests/unit/test_ner.py::TestNERWithRealModels::test_real_model_loading SKIPPED [ 58%]
tests/unit/test_ner.py::TestNERWithRealModels::test_presidio_integration SKIPPED [ 58%]
tests/unit/test_ner_enhancements.py::test_extract_clinician_with_keyword SKIPPED [ 58%]
tests/unit/test_ner_enhancements.py::test_ignore_person_not_near_keyword SKIPPED [ 58%]
tests/unit/test_ner_enhancements.py::test_multiple_clinicians_found_and_deduplicated SKIPPED [ 59%]
tests/unit/test_ner_enhancements.py::test_deduplication_of_same_name SKIPPED [ 59%]
tests/unit/test_ner_enhancements.py::test_extract_medical_entities SKIPPED [ 59%]
tests/unit/test_ner_enhancements.py::test_extract_entities_empty_text PASSED [ 59%]
tests/unit/test_ner_enhancements.py::test_extract_clinician_name_regex_patterns PASSED [ 59%]
tests/unit/test_parsing.py::test_parse_pdf_content PASSED                [ 59%]
tests/unit/test_parsing.py::test_parse_txt_content PASSED                [ 59%]
tests/unit/test_parsing.py::test_parse_non_existent_file PASSED          [ 60%]
tests/unit/test_parsing.py::test_parse_unsupported_file_type PASSED      [ 60%]
tests/unit/test_parsing.py::test_parse_document_into_sections_happy_path PASSED [ 60%]
tests/unit/test_parsing.py::test_parse_document_into_sections_no_headers PASSED [ 60%]
tests/unit/test_pdf_export_service.py::TestPDFExportService::test_initialization PASSED [ 60%]
tests/unit/test_pdf_export_service.py::TestPDFExportService::test_default_initialization PASSED [ 60%]
tests/unit/test_pdf_export_service.py::TestPDFExportService::test_output_directory_creation PASSED [ 60%]
tests/unit/test_pdf_export_service.py::TestFilenameSanitization::test_sanitize_simple_filename PASSED [ 60%]
tests/unit/test_pdf_export_service.py::TestFilenameSanitization::test_sanitize_filename_with_spaces PASSED [ 61%]
tests/unit/test_pdf_export_service.py::TestFilenameSanitization::test_sanitize_filename_with_special_chars PASSED [ 61%]
tests/unit/test_pdf_export_service.py::TestFilenameSanitization::test_sanitize_long_filename PASSED [ 61%]
tests/unit/test_pdf_export_service.py::TestFilenameSanitization::test_sanitize_empty_filename PASSED [ 61%]
tests/unit/test_pdf_export_service.py::TestPDFGeneration::test_export_to_pdf_success SKIPPED [ 61%]
tests/unit/test_pdf_export_service.py::TestPDFGeneration::test_export_to_pdf_with_metadata SKIPPED [ 61%]
tests/unit/test_pdf_export_service.py::TestPDFGeneration::test_export_to_pdf_without_metadata SKIPPED [ 61%]
tests/unit/test_pdf_export_service.py::TestPDFGeneration::test_export_to_pdf_failure SKIPPED [ 61%]
tests/unit/test_pdf_export_service.py::TestPDFGeneration::test_export_generates_unique_filenames SKIPPED [ 62%]
tests/unit/test_pdf_export_service.py::TestHTMLEnhancement::test_enhance_html_adds_metadata PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestHTMLEnhancement::test_enhance_html_adds_footer PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestHTMLEnhancement::test_enhance_html_adds_styling PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestAutoPurge::test_purge_old_pdfs_when_disabled PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestAutoPurge::test_purge_old_pdfs_no_files PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestAutoPurge::test_purge_old_pdfs_removes_old_files PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestPDFInfo::test_get_pdf_info_existing_file PASSED [ 62%]
tests/unit/test_pdf_export_service.py::TestPDFInfo::test_get_pdf_info_nonexistent_file PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestPDFInfo::test_list_pdfs_empty_directory PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestPDFInfo::test_list_pdfs_with_files PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestPDFStyles::test_pdf_css_includes_page_settings PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestPDFStyles::test_pdf_css_includes_headers_footers PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestPDFStyles::test_pdf_css_includes_risk_styling PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestPDFStyles::test_pdf_css_includes_confidence_styling PASSED [ 63%]
tests/unit/test_pdf_export_service.py::TestRetentionAndPurge::test_export_sets_purge_time SKIPPED [ 63%]
tests/unit/test_pdf_export_service.py::TestRetentionAndPurge::test_export_no_purge_time_when_disabled SKIPPED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_request_recording PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_error_request_recording PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_database_query_recording PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_ai_inference_recording PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_cache_operation_recording PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_custom_metric_recording PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_slow_request_warning PASSED [ 64%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_slow_database_query_warning PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_slow_ai_inference_warning PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_system_metrics_update PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_high_memory_warning FAILED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_high_cpu_warning PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_metrics_summary_calculation PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_metrics_reset PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestMetricsCollector::test_history_limit PASSED [ 65%]
tests/unit/test_performance_metrics.py::TestContextManagers::test_request_timer PASSED [ 66%]
tests/unit/test_performance_metrics.py::TestContextManagers::test_database_query_timer PASSED [ 66%]
tests/unit/test_performance_metrics.py::TestContextManagers::test_ai_inference_timer PASSED [ 66%]
tests/unit/test_performance_metrics.py::TestContextManagers::test_context_manager_exception_handling PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestMonitoringConfiguration::test_default_configuration PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestMonitoringConfiguration::test_custom_configuration PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestMonitoringStatus::test_status_creation PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_monitor_initialization PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_monitor_initialization_with_defaults PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_storage_directory_creation PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_get_status_when_stopped PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_start_monitoring_success PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_start_monitoring_already_running PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_start_monitoring_while_stopping PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_start_monitoring_initialization_failure PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_stop_monitoring_when_stopped PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_stop_monitoring_when_stopping PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_stop_monitoring_success PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_stop_monitoring_thread_timeout PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_configure_monitoring PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_configure_monitoring_storage_creation PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_status_callbacks PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_metric_callbacks PASSED [ 68%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_callback_error_handling PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_export_configuration PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_import_configuration PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitor::test_import_configuration_invalid_file PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_component_initialization PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_component_cleanup PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_component_cleanup_error_handling PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_get_active_sources_count PASSED [ 69%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_get_active_sources_count_no_collector PASSED [ 70%]
tests/unit/test_performance_monitor.py::TestGlobalPerformanceMonitor::test_global_instance_exists PASSED [ 70%]
tests/unit/test_performance_monitor.py::TestGlobalPerformanceMonitor::test_global_instance_default_config PASSED [ 70%]
tests/unit/test_performance_optimizer.py::TestCachePerformanceMonitor::test_initialization PASSED [ 70%]
tests/unit/test_performance_optimizer.py::TestCachePerformanceMonitor::test_record_operation PASSED [ 70%]
tests/unit/test_performance_optimizer.py::TestCachePerformanceMonitor::test_performance_summary PASSED [ 70%]
tests/unit/test_performance_optimizer.py::TestCachePerformanceMonitor::test_recommendations_generation PASSED [ 70%]
tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_initialization PASSED [ 70%]
tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_get_embeddings FAILED [ 71%]
tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_set_embeddings FAILED [ 71%]
tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_get_ner_results FAILED [ 71%]
tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_cleanup PASSED [ 71%]
tests/unit/test_performance_optimizer.py::TestCacheWarmingService::test_initialization PASSED [ 71%]
tests/unit/test_performance_optimizer.py::TestCacheWarmingService::test_schedule_warming PASSED [ 71%]
tests/unit/test_performance_optimizer.py::TestCacheWarmingService::test_priority_ordering PASSED [ 71%]
tests/unit/test_performance_optimizer.py::TestCacheWarmingService::test_execute_warming FAILED [ 71%]
tests/unit/test_performance_optimizer.py::TestCacheWarmingService::test_get_warming_status PASSED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_initialization PASSED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_analyze_performance FAILED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_optimize_performance FAILED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_identify_bottlenecks FAILED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_generate_optimization_recommendations FAILED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_calculate_performance_improvements FAILED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_get_optimization_status PASSED [ 72%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_memory_optimization FAILED [ 73%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_proactive_warming FAILED [ 73%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_full_optimization_cycle SKIPPED [ 73%]
tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_performance_analysis_with_real_cache SKIPPED [ 73%]
tests/unit/test_performance_optimizer.py::test_global_performance_optimizer PASSED [ 73%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestConfig::test_performance_test_config_creation PASSED [ 73%]
tests/unit/test_performance_test_orchestrator.py::TestSuiteManager::test_initialization_with_default_config PASSED [ 73%]
tests/unit/test_performance_test_orchestrator.py::TestSuiteManager::test_load_configurations_from_yaml PASSED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestSuiteManager::test_get_test_configuration PASSED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestSuiteManager::test_get_suite_tests PASSED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestSuiteManager::test_get_available_suites PASSED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_initialization PASSED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_register_test_runner PASSED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_success FAILED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_failure FAILED [ 74%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_timeout FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_no_runner FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_tests_parallel FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_tests_parallel_with_disabled FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_initialization PASSED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_baseline_tests FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_optimization_tests FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_test_suite FAILED [ 75%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_full_performance_suite FAILED [ 76%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_nonexistent_suite FAILED [ 76%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_calculate_summary_metrics PASSED [ 76%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_generate_recommendations PASSED [ 76%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_get_test_history PASSED [ 76%]
tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_get_available_suites PASSED [ 76%]
tests/unit/test_performance_test_orchestrator.py::test_integration_full_workflow FAILED [ 76%]
tests/unit/test_phi_scrubber.py::test_scrub_replaces_configured_token PASSED [ 76%]
tests/unit/test_phi_scrubber.py::test_scrub_is_noop_for_non_text[None] PASSED [ 77%]
tests/unit/test_phi_scrubber.py::test_scrub_is_noop_for_non_text[1234] PASSED [ 77%]
tests/unit/test_phi_scrubber.py::test_scrub_is_noop_for_non_text[value2] PASSED [ 77%]
tests/unit/test_phi_scrubber.py::test_scrub_is_noop_for_non_text[   ] PASSED [ 77%]
tests/unit/test_phi_scrubber.py::test_scrub_logs_and_returns_original_when_wrapper_errors PASSED [ 77%]
tests/unit/test_query_expander.py::TestMedicalVocabulary::test_initialization_with_defaults PASSED [ 77%]
tests/unit/test_query_expander.py::TestMedicalVocabulary::test_get_synonyms PASSED [ 77%]
tests/unit/test_query_expander.py::TestMedicalVocabulary::test_expand_abbreviations PASSED [ 77%]
tests/unit/test_query_expander.py::TestMedicalVocabulary::test_get_specialty_terms PASSED [ 78%]
tests/unit/test_query_expander.py::TestMedicalVocabulary::test_save_and_load_vocabulary PASSED [ 78%]
tests/unit/test_query_expander.py::TestSemanticExpander::test_initialization PASSED [ 78%]
tests/unit/test_query_expander.py::TestSemanticExpander::test_expand_semantically_without_model PASSED [ 78%]
tests/unit/test_query_expander.py::TestSemanticExpander::test_expand_semantically_with_mock_model PASSED [ 78%]
tests/unit/test_query_expander.py::TestExpansionResult::test_expansion_result_creation PASSED [ 78%]
tests/unit/test_query_expander.py::TestExpansionResult::test_get_expanded_query PASSED [ 78%]
tests/unit/test_query_expander.py::TestQueryExpander::test_initialization PASSED [ 78%]
tests/unit/test_query_expander.py::TestQueryExpander::test_extract_key_terms PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_expand_with_synonyms PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_expand_abbreviations PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_expand_with_specialty_terms PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_expand_with_context PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_expand_with_document_type PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_full_query_expansion PASSED [ 79%]
tests/unit/test_query_expander.py::TestQueryExpander::test_expansion_with_limits PASSED [ 80%]
tests/unit/test_query_expander.py::TestQueryExpander::test_get_expansion_statistics PASSED [ 80%]
tests/unit/test_query_expander.py::TestQueryExpander::test_empty_query_handling PASSED [ 80%]
tests/unit/test_query_expander.py::TestQueryExpander::test_case_insensitive_expansion PASSED [ 80%]
tests/unit/test_query_expander.py::TestQueryExpansionIntegration::test_realistic_medical_query_expansion PASSED [ 80%]
tests/unit/test_query_expander.py::TestQueryExpansionIntegration::test_expansion_with_medical_entities PASSED [ 80%]
tests/unit/test_report_branding_service.py::TestLogoConfiguration::test_default_configuration PASSED [ 80%]
tests/unit/test_report_branding_service.py::TestLogoConfiguration::test_configuration_serialization PASSED [ 80%]
tests/unit/test_report_branding_service.py::TestBrandingConfiguration::test_default_branding PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestBrandingConfiguration::test_branding_serialization PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_validate_nonexistent_file PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_validate_unsupported_format PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_validate_valid_png PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_validate_valid_jpg PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_validate_svg_file PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_process_raster_logo PASSED [ 81%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_process_svg_logo PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestLogoProcessor::test_process_disabled_logo PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_service_initialization PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_configure_logo_success PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_configure_logo_invalid_file PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_disable_logo PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_update_branding PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_get_logo_data_disabled PASSED [ 82%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_get_logo_data_enabled PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_generate_report_css_no_logo PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_generate_report_css_with_logo PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_get_branding_context_no_logo PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_get_branding_context_with_logo PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_configuration_persistence PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestReportBrandingService::test_reset_to_defaults PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_report_without_logo_has_no_placeholders PASSED [ 83%]
tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_seamless_logo_addition_removal PASSED [ 84%]
tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_corrupted_logo_file_handling PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_successful_request_logging PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_error_request_logging PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_request_body_logging_enabled PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_request_body_logging_disabled PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_large_request_body_truncation PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_sensitive_headers_redaction PASSED [ 84%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_request_id_from_state PASSED [ 85%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_slow_request_warning PASSED [ 85%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_error_response_detailed_logging PASSED [ 85%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_get_request_logging PASSED [ 85%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_middleware_exception_handling PASSED [ 85%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_response_size_logging PASSED [ 85%]
tests/unit/test_request_logging_middleware.py::TestRequestLoggingMiddleware::test_user_agent_logging PASSED [ 85%]
tests/unit/test_resource_pool.py::TestPooledResource::test_pooled_resource_initialization PASSED [ 85%]
tests/unit/test_resource_pool.py::TestPooledResource::test_resource_acquire_release_cycle PASSED [ 86%]
tests/unit/test_resource_pool.py::TestPooledResource::test_context_manager_usage PASSED [ 86%]
tests/unit/test_resource_pool.py::TestPooledResource::test_resource_metrics_tracking PASSED [ 86%]
tests/unit/test_resource_pool.py::TestPooledResource::test_invalid_state_transitions PASSED [ 86%]
tests/unit/test_resource_pool.py::TestResourceFactory::test_factory_creation_success PASSED [ 86%]
tests/unit/test_resource_pool.py::TestResourceFactory::test_factory_creation_failure PASSED [ 86%]
tests/unit/test_resource_pool.py::TestResourceFactory::test_factory_validation PASSED [ 86%]
tests/unit/test_resource_pool.py::TestResourceFactory::test_factory_disposal PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_pool_initialization PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_pool_preloading PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_resource_acquisition_and_release PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_pool_size_limits PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_pool_status_reporting PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_resource_metrics_collection PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_pool_shutdown PASSED [ 87%]
tests/unit/test_resource_pool.py::TestResourcePool::test_maintenance_loop_cleanup PASSED [ 88%]
tests/unit/test_resource_pool.py::TestResourcePool::test_invalid_resource_handling PASSED [ 88%]
tests/unit/test_resource_pool.py::TestResourcePoolManager::test_pool_creation_and_retrieval PASSED [ 88%]
tests/unit/test_resource_pool.py::TestResourcePoolManager::test_pool_status_aggregation PASSED [ 88%]
tests/unit/test_resource_pool.py::TestResourcePoolManager::test_manager_shutdown PASSED [ 88%]
tests/unit/test_resource_pool.py::TestResourcePoolManager::test_nonexistent_pool_retrieval PASSED [ 88%]
tests/unit/test_resource_pool.py::TestIntegration::test_concurrent_resource_usage PASSED [ 88%]
tests/unit/test_resource_pool.py::TestIntegration::test_resource_lifecycle_with_failures PASSED [ 88%]
tests/unit/test_resource_pool.py::TestIntegration::test_global_resource_pool_manager PASSED [ 89%]
tests/unit/test_rule_loader.py::TestRuleLoader::test_load_rules PASSED   [ 89%]
tests/unit/test_rule_loader.py::TestRuleLoader::test_non_existent_directory PASSED [ 89%]
tests/unit/test_rule_loader.py::TestRuleLoader::test_rule_parsing PASSED [ 89%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_valid_pdf_filename PASSED [ 89%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_valid_docx_filename PASSED [ 89%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_valid_txt_filename PASSED [ 89%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_empty_filename PASSED [ 89%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_path_traversal_dots PASSED [ 90%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_path_traversal_forward_slash PASSED [ 90%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_path_traversal_backslash PASSED [ 90%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_invalid_extension PASSED [ 90%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_filename_too_long PASSED [ 90%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_case_insensitive_extension PASSED [ 90%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_valid_file_size PASSED [ 90%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_empty_file PASSED [ 90%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_file_too_large PASSED [ 91%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_max_file_size_boundary PASSED [ 91%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_valid_pt_discipline PASSED [ 91%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_valid_ot_discipline PASSED [ 91%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_valid_slp_discipline PASSED [ 91%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_case_insensitive_discipline PASSED [ 91%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_invalid_discipline PASSED [ 91%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_empty_discipline PASSED [ 91%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_valid_rubric_mode PASSED [ 92%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_valid_checklist_mode PASSED [ 92%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_valid_hybrid_mode PASSED [ 92%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_case_insensitive_mode PASSED [ 92%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_invalid_mode PASSED [ 92%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_empty_mode PASSED [ 92%]
tests/unit/test_security_validator.py::TestTextSanitization::test_clean_text_unchanged PASSED [ 92%]
tests/unit/test_security_validator.py::TestTextSanitization::test_script_tag_removed PASSED [ 92%]
tests/unit/test_security_validator.py::TestTextSanitization::test_javascript_protocol_removed PASSED [ 93%]
tests/unit/test_security_validator.py::TestTextSanitization::test_onerror_attribute_removed PASSED [ 93%]
tests/unit/test_security_validator.py::TestTextSanitization::test_path_traversal_removed PASSED [ 93%]
tests/unit/test_security_validator.py::TestTextSanitization::test_empty_text_returns_empty PASSED [ 93%]
tests/unit/test_security_validator.py::TestTextSanitization::test_text_length_limit_enforced PASSED [ 93%]
tests/unit/test_security_validator.py::TestTextSanitization::test_custom_max_length PASSED [ 93%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_valid_username PASSED [ 93%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_numbers PASSED [ 94%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_hyphen PASSED [ 94%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_empty_username PASSED [ 94%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_spaces PASSED [ 94%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_special_chars PASSED [ 94%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_too_long PASSED [ 94%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_valid_strong_password PASSED [ 94%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_empty_password PASSED [ 94%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_too_short PASSED [ 95%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_no_uppercase PASSED [ 95%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_no_lowercase PASSED [ 95%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_no_digit PASSED [ 95%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_too_long PASSED [ 95%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_with_special_chars PASSED [ 95%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_clean_filename_unchanged PASSED [ 95%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_spaces_replaced_with_underscores PASSED [ 95%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_special_chars_removed PASSED [ 96%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_path_stripped PASSED [ 96%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_long_filename_truncated PASSED [ 96%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_unicode_characters_handled PASSED [ 96%]
tests/unit/test_simple_metrics.py::test_metrics_collector_basic PASSED   [ 96%]
tests/unit/test_simple_metrics.py::test_metrics_collector_error_recording PASSED [ 96%]
tests/unit/test_simple_metrics.py::test_metrics_collector_database_queries PASSED [ 96%]
tests/unit/test_simple_metrics.py::test_metrics_collector_ai_inference PASSED [ 96%]
tests/unit/test_simple_metrics.py::test_metrics_collector_custom_metrics PASSED [ 97%]
tests/unit/test_simple_metrics.py::test_metrics_collector_reset PASSED   [ 97%]
tests/unit/test_simple_metrics.py::test_metrics_summary_calculation PASSED [ 97%]
tests/unit/test_smart_chunker.py::test_empty_text PASSED                 [ 97%]
tests/unit/test_smart_chunker.py::test_single_sentence PASSED            [ 97%]
tests/unit/test_smart_chunker.py::test_multiple_sentences_with_window_size_one PASSED [ 97%]
tests/unit/test_smart_chunker.py::test_metadata_is_passed_through PASSED [ 97%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_service_initialization PASSED [ 97%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_service_initialization_with_custom_config PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_get_system_metrics PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_health_status_calculation PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_system_optimization PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_system_optimization_aggressive_mode PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_callback_registration PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_system_status_report PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_metrics_history_management PASSED [ 98%]
tests/unit/test_system_integration_service.py::TestIntegrationConfiguration::test_default_configuration PASSED [ 99%]
tests/unit/test_system_integration_service.py::TestIntegrationConfiguration::test_custom_configuration PASSED [ 99%]
tests/unit/test_system_integration_service.py::TestSystemMetrics::test_metrics_creation PASSED [ 99%]
tests/unit/test_system_integration_service.py::TestIntegration::test_end_to_end_system_integration PASSED [ 99%]
tests/unit/test_system_integration_service.py::TestIntegration::test_service_lifecycle PASSED [ 99%]
tests/unit/test_system_integration_service.py::TestIntegration::test_auto_optimization_trigger PASSED [ 99%]
tests/unit/test_unit_guideline_service.py::test_search_returns_results PASSED [ 99%]
tests/unit/test_unit_guideline_service.py::test_search_empty_when_not_ready PASSED [100%]

=================================== ERRORS ====================================
_ ERROR at setup of TestDocumentAnalysisWorkflow.test_complete_analysis_workflow _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:42,267 - logging_setup - INFO - {"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:45:42.267169Z"}
{"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:45:42.267169Z"}
2025-10-21 12:45:42,267 - src.database.database - INFO - Initializing database schema
Initializing database schema
2025-10-21 12:45:42,275 - src.database.database - INFO - Applying SQLite performance optimizations
Applying SQLite performance optimizations
2025-10-21 12:45:42,275 - src.database.database - INFO - Database initialization complete
Database initialization complete
2025-10-21 12:45:42,275 - src.api.dependencies - INFO - Application starting up...
Application starting up...
2025-10-21 12:45:42,275 - src.api.dependencies - INFO - Initializing real AnalysisService.
Initializing real AnalysisService.
2025-10-21 12:45:42,275 - src.api.dependencies - INFO - Retriever instance not found, creating a new one.
Retriever instance not found, creating a new one.
2025-10-21 12:45:42,284 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
Use pytorch device_name: cpu
2025-10-21 12:45:42,284 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: pritamdeka/S-PubMedBert-MS-MARCO
Load pretrained SentenceTransformer: pritamdeka/S-PubMedBert-MS-MARCO
2025-10-21 12:45:44,181 - src.core.hybrid_retriever - WARNING - Failed to initialize dense model 'pritamdeka/S-PubMedBert-MS-MARCO': Mock object has no attribute 'from_dict'
Failed to initialize dense model 'pritamdeka/S-PubMedBert-MS-MARCO': Mock object has no attribute 'from_dict'
2025-10-21 12:45:44,183 - src.core.query_expander - INFO - Initialized default medical vocabulary
Initialized default medical vocabulary
2025-10-21 12:45:44,183 - src.api.dependencies - INFO - New retriever instance created and initialized.
New retriever instance created and initialized.
2025-10-21 12:45:44,183 - src.core.analysis_service - INFO - AnalysisService initialized with use_mocks=False
AnalysisService initialized with use_mocks=False
2025-10-21 12:45:44,183 - presidio-analyzer - INFO - nlp_engine not provided, creating default.
nlp_engine not provided, creating default.
2025-10-21 12:45:45,686 - presidio-analyzer - INFO - Created NLP engine: spacy. Loaded models: ['en']
Created NLP engine: spacy. Loaded models: ['en']
2025-10-21 12:45:45,696 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:45,696 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:45,696 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:45,696 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:45,698 - presidio-analyzer - INFO - Loaded recognizer: UsBankRecognizer
Loaded recognizer: UsBankRecognizer
2025-10-21 12:45:45,698 - presidio-analyzer - INFO - Loaded recognizer: UsLicenseRecognizer
Loaded recognizer: UsLicenseRecognizer
2025-10-21 12:45:45,698 - presidio-analyzer - INFO - Loaded recognizer: UsItinRecognizer
Loaded recognizer: UsItinRecognizer
2025-10-21 12:45:45,698 - presidio-analyzer - INFO - Loaded recognizer: UsPassportRecognizer
Loaded recognizer: UsPassportRecognizer
2025-10-21 12:45:45,698 - presidio-analyzer - INFO - Loaded recognizer: UsSsnRecognizer
Loaded recognizer: UsSsnRecognizer
2025-10-21 12:45:45,700 - presidio-analyzer - INFO - Loaded recognizer: NhsRecognizer
Loaded recognizer: NhsRecognizer
2025-10-21 12:45:45,701 - presidio-analyzer - INFO - Loaded recognizer: SgFinRecognizer
Loaded recognizer: SgFinRecognizer
2025-10-21 12:45:45,701 - presidio-analyzer - INFO - Loaded recognizer: AuAbnRecognizer
Loaded recognizer: AuAbnRecognizer
2025-10-21 12:45:45,701 - presidio-analyzer - INFO - Loaded recognizer: AuAcnRecognizer
Loaded recognizer: AuAcnRecognizer
2025-10-21 12:45:45,702 - presidio-analyzer - INFO - Loaded recognizer: AuTfnRecognizer
Loaded recognizer: AuTfnRecognizer
2025-10-21 12:45:45,702 - presidio-analyzer - INFO - Loaded recognizer: AuMedicareRecognizer
Loaded recognizer: AuMedicareRecognizer
2025-10-21 12:45:45,702 - presidio-analyzer - INFO - Loaded recognizer: InPanRecognizer
Loaded recognizer: InPanRecognizer
2025-10-21 12:45:45,704 - presidio-analyzer - INFO - Loaded recognizer: InAadhaarRecognizer
Loaded recognizer: InAadhaarRecognizer
2025-10-21 12:45:45,704 - presidio-analyzer - INFO - Loaded recognizer: InVehicleRegistrationRecognizer
Loaded recognizer: InVehicleRegistrationRecognizer
2025-10-21 12:45:45,704 - presidio-analyzer - INFO - Loaded recognizer: InPassportRecognizer
Loaded recognizer: InPassportRecognizer
2025-10-21 12:45:45,705 - presidio-analyzer - INFO - Loaded recognizer: EsNifRecognizer
Loaded recognizer: EsNifRecognizer
2025-10-21 12:45:45,705 - presidio-analyzer - INFO - Loaded recognizer: EsNieRecognizer
Loaded recognizer: EsNieRecognizer
2025-10-21 12:45:45,705 - presidio-analyzer - INFO - Loaded recognizer: ItDriverLicenseRecognizer
Loaded recognizer: ItDriverLicenseRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: ItFiscalCodeRecognizer
Loaded recognizer: ItFiscalCodeRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: ItVatCodeRecognizer
Loaded recognizer: ItVatCodeRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: ItIdentityCardRecognizer
Loaded recognizer: ItIdentityCardRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: ItPassportRecognizer
Loaded recognizer: ItPassportRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: PlPeselRecognizer
Loaded recognizer: PlPeselRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: CryptoRecognizer
Loaded recognizer: CryptoRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: DateRecognizer
Loaded recognizer: DateRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: EmailRecognizer
Loaded recognizer: EmailRecognizer
2025-10-21 12:45:45,706 - presidio-analyzer - INFO - Loaded recognizer: IbanRecognizer
Loaded recognizer: IbanRecognizer
2025-10-21 12:45:45,710 - presidio-analyzer - INFO - Loaded recognizer: IpRecognizer
Loaded recognizer: IpRecognizer
2025-10-21 12:45:45,710 - presidio-analyzer - INFO - Loaded recognizer: MedicalLicenseRecognizer
Loaded recognizer: MedicalLicenseRecognizer
2025-10-21 12:45:45,710 - presidio-analyzer - INFO - Loaded recognizer: PhoneRecognizer
Loaded recognizer: PhoneRecognizer
2025-10-21 12:45:45,710 - presidio-analyzer - INFO - Loaded recognizer: UrlRecognizer
Loaded recognizer: UrlRecognizer
2025-10-21 12:45:45,712 - presidio-analyzer - INFO - Loaded recognizer: InVoterRecognizer
Loaded recognizer: InVoterRecognizer
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:45:45,712 - presidio-analyzer - INFO - Loaded recognizer: SpacyRecognizer
Loaded recognizer: SpacyRecognizer
2025-10-21 12:45:45,831 - src.core.preprocessing_service - INFO - Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
2025-10-21 12:45:45,847 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
Unified explanation engine initialized with caching=True
2025-10-21 12:45:45,847 - src.core.advanced_ensemble_optimizer - INFO - Advanced ensemble optimizer initialized with learning=True
Advanced ensemble optimizer initialized with learning=True
2025-10-21 12:45:45,847 - src.core.human_feedback_system - INFO - Human feedback system initialized with learning=True
Human feedback system initialized with learning=True
2025-10-21 12:45:45,853 - src.core.accuracy_hallucination_tracker - INFO - AccuracyHallucinationTracker initialized with tracking enabled: True
AccuracyHallucinationTracker initialized with tracking enabled: True
2025-10-21 12:45:45,855 - src.core.safe_accuracy_improvements - INFO - SafeAccuracyEnhancer initialized with 10 strategies
SafeAccuracyEnhancer initialized with 10 strategies
2025-10-21 12:45:45,858 - src.core.multi_tier_cache - INFO - Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
2025-10-21 12:45:45,858 - src.core.clinical_education_engine - INFO - Clinical education engine initialized with 5 learning objectives and 5 content items
Clinical education engine initialized with 5 learning objectives and 5 content items
2025-10-21 12:45:45,858 - src.core.analysis_service - INFO - 7 Habits Framework initialized successfully
7 Habits Framework initialized successfully
2025-10-21 12:45:45,858 - src.core.rag_database_integration - INFO - RAG database initialized successfully
RAG database initialized successfully
2025-10-21 12:45:45,858 - src.core.analysis_service - INFO - RAG system initialized successfully
RAG system initialized successfully
2025-10-21 12:45:45,858 - src.core.model_selection_utils - INFO - Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
2025-10-21 12:45:45,858 - src.core.model_selection_utils - WARNING - Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
2025-10-21 12:45:45,862 - src.core.ner - INFO - Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
2025-10-21 12:45:46,223 - src.core.ner - ERROR - Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
2025-10-21 12:45:46,224 - src.core.ner - INFO - Loading clinical NER model: d4data/biomedical-ner-all
Loading clinical NER model: d4data/biomedical-ner-all
2025-10-21 12:45:46,537 - src.core.ner - ERROR - Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
2025-10-21 12:45:46,538 - presidio-analyzer - INFO - nlp_engine not provided, creating default.
nlp_engine not provided, creating default.
2025-10-21 12:45:47,767 - presidio-analyzer - INFO - Created NLP engine: spacy. Loaded models: ['en']
Created NLP engine: spacy. Loaded models: ['en']
2025-10-21 12:45:47,767 - presidio-analyzer - INFO - registry not provided, creating default.
registry not provided, creating default.
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: UsBankRecognizer
Loaded recognizer: UsBankRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: UsLicenseRecognizer
Loaded recognizer: UsLicenseRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: UsItinRecognizer
Loaded recognizer: UsItinRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: UsPassportRecognizer
Loaded recognizer: UsPassportRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: UsSsnRecognizer
Loaded recognizer: UsSsnRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: NhsRecognizer
Loaded recognizer: NhsRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: SgFinRecognizer
Loaded recognizer: SgFinRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: AuAbnRecognizer
Loaded recognizer: AuAbnRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: AuAcnRecognizer
Loaded recognizer: AuAcnRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: AuTfnRecognizer
Loaded recognizer: AuTfnRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: AuMedicareRecognizer
Loaded recognizer: AuMedicareRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: InPanRecognizer
Loaded recognizer: InPanRecognizer
2025-10-21 12:45:47,779 - presidio-analyzer - INFO - Loaded recognizer: InAadhaarRecognizer
Loaded recognizer: InAadhaarRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: InVehicleRegistrationRecognizer
Loaded recognizer: InVehicleRegistrationRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: InPassportRecognizer
Loaded recognizer: InPassportRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: EsNifRecognizer
Loaded recognizer: EsNifRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: EsNieRecognizer
Loaded recognizer: EsNieRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: ItDriverLicenseRecognizer
Loaded recognizer: ItDriverLicenseRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: ItFiscalCodeRecognizer
Loaded recognizer: ItFiscalCodeRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: ItVatCodeRecognizer
Loaded recognizer: ItVatCodeRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: ItIdentityCardRecognizer
Loaded recognizer: ItIdentityCardRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: ItPassportRecognizer
Loaded recognizer: ItPassportRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: PlPeselRecognizer
Loaded recognizer: PlPeselRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: CryptoRecognizer
Loaded recognizer: CryptoRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: DateRecognizer
Loaded recognizer: DateRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: EmailRecognizer
Loaded recognizer: EmailRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: IbanRecognizer
Loaded recognizer: IbanRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: IpRecognizer
Loaded recognizer: IpRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: MedicalLicenseRecognizer
Loaded recognizer: MedicalLicenseRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: PhoneRecognizer
Loaded recognizer: PhoneRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: UrlRecognizer
Loaded recognizer: UrlRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: InVoterRecognizer
Loaded recognizer: InVoterRecognizer
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:45:47,784 - presidio-analyzer - INFO - Loaded recognizer: SpacyRecognizer
Loaded recognizer: SpacyRecognizer
2025-10-21 12:45:47,784 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
Unified explanation engine initialized with caching=True
2025-10-21 12:45:47,792 - src.core.compliance_analyzer - INFO - Loaded existing confidence calibrator
Loaded existing confidence calibrator
2025-10-21 12:45:47,792 - src.core.compliance_analyzer - INFO - ComplianceAnalyzer initialized with all services.
ComplianceAnalyzer initialized with all services.
2025-10-21 12:45:47,796 - src.api.dependencies - INFO - Application startup complete. Services are initialized.
Application startup complete. Services are initialized.
2025-10-21 12:45:47,796 - src.api.main - INFO - {"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.796366Z"}
{"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.796366Z"}
2025-10-21 12:45:47,812 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-21 12:45:47,812 - apscheduler.scheduler - INFO - Added job "run_maintenance_jobs" to job store "default"
Added job "run_maintenance_jobs" to job store "default"
2025-10-21 12:45:47,812 - apscheduler.scheduler - INFO - Scheduler started
Scheduler started
2025-10-21 12:45:47,812 - src.api.main - INFO - {"event": "Scheduler started for daily maintenance tasks.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"event": "Scheduler started for daily maintenance tasks.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.api.main - INFO - {"event": "Starting in-memory task purge service.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"event": "Starting in-memory task purge service.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.api.main - INFO - {"event": "Cleanup services started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"event": "Cleanup services started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.api.main - INFO - {"event": "Request tracking initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"event": "Request tracking initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.api.main - INFO - {"event": "Error handling initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"event": "Error handling initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.api.main - INFO - {"event": "Enhanced worker manager and task registry cleanup started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"event": "Enhanced worker manager and task registry cleanup started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.core.service_manager - INFO - {"service": "api", "port": 8001, "event": "Registered service", "logger": "src.core.service_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"service": "api", "port": 8001, "event": "Registered service", "logger": "src.core.service_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,812 - src.core.service_manager - INFO - {"service": "frontend", "port": 3001, "event": "Registered service", "logger": "src.core.service_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
{"service": "frontend", "port": 3001, "event": "Registered service", "logger": "src.core.service_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
2025-10-21 12:45:47,817 - src.api.main - INFO - {"event": "Service manager initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.817112Z"}
{"event": "Service manager initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.817112Z"}
2025-10-21 12:45:47,817 - src.core.vector_store - INFO - FAISS index initialized with embedding dimension: 768
FAISS index initialized with embedding dimension: 768
2025-10-21 12:45:47,817 - src.api.main - INFO - {"event": "Populating vector store with existing report embeddings...", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.817112Z"}
{"event": "Populating vector store with existing report embeddings...", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.817112Z"}
2025-10-21 12:45:47,919 - src.core.file_cleanup_service - INFO - Starting file cleanup service...
Starting file cleanup service...
2025-10-21 12:45:47,919 - src.core.document_cleanup_service - INFO - Document cleanup service started (interval: 1h, max_age: 24h)
Document cleanup service started (interval: 1h, max_age: 24h)
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Registered cleanup service: document
Registered cleanup service: document
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Registered cleanup service: session
Registered cleanup service: session
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Registered cleanup service: log
Registered cleanup service: log
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Registered cleanup service: database
Registered cleanup service: database
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Registered cleanup service: system
Registered cleanup service: system
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - document cleanup service started
document cleanup service started
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - session cleanup service started
session cleanup service started
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - log cleanup service started
log cleanup service started
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - database cleanup service started
database cleanup service started
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - system cleanup service started
system cleanup service started
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - All cleanup services started
All cleanup services started
2025-10-21 12:45:47,919 - src.core.enhanced_worker_manager - INFO - {"event": "Worker manager started", "logger": "src.core.enhanced_worker_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.919355Z"}
{"event": "Worker manager started", "logger": "src.core.enhanced_worker_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.919355Z"}
2025-10-21 12:45:47,919 - src.core.document_cleanup_service - INFO - Starting document cleanup
Starting document cleanup
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Starting document cleanup
Starting document cleanup
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Starting session cleanup
Starting session cleanup
2025-10-21 12:45:47,919 - src.core.cleanup_services - INFO - Starting log cleanup
Starting log cleanup
2025-10-21 12:45:47,926 - src.core.cleanup_services - INFO - Log cleanup completed: 0 files cleaned
Log cleanup completed: 0 files cleaned
2025-10-21 12:45:47,926 - src.core.cleanup_services - INFO - Starting database cleanup
Starting database cleanup
2025-10-21 12:45:47,926 - src.core.cleanup_services - INFO - Database cleanup completed
Database cleanup completed
2025-10-21 12:45:47,926 - src.core.cleanup_services - INFO - Starting system resource cleanup
Starting system resource cleanup
2025-10-21 12:45:47,950 - src.core.cleanup_services - INFO - System resource cleanup completed: 0 items cleaned
System resource cleanup completed: 0 items cleaned
2025-10-21 12:45:47,950 - src.core.enhanced_worker_manager - INFO - {"event": "Worker loop started", "logger": "src.core.enhanced_worker_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.950924Z"}
{"event": "Worker loop started", "logger": "src.core.enhanced_worker_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.950924Z"}
2025-10-21 12:45:47,950 - src.core.document_cleanup_service - INFO - Expired documents cleaned up
Expired documents cleaned up
2025-10-21 12:45:47,955 - src.core.document_cleanup_service - INFO - Cleanup completed: 0 expired docs, 0 temp files, 0 log files
Cleanup completed: 0 expired docs, 0 temp files, 0 log files
2025-10-21 12:45:47,957 - src.core.cleanup_services - INFO - Document cleanup completed: 0 files cleaned
Document cleanup completed: 0 files cleaned
2025-10-21 12:45:47,957 - src.core.cleanup_services - INFO - Session cleanup completed: 0 sessions cleaned
Session cleanup completed: 0 sessions cleaned
2025-10-21 12:45:47,958 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:47,958 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:47,958 - src.api.middleware.request_logging - INFO - Request started | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:47,975 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:47,975 - src.api.main - INFO - {"event": "No existing reports with embeddings found to populate vector store.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.975055Z"}
{"event": "No existing reports with embeddings found to populate vector store.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.975055Z"}
2025-10-21 12:45:47,975 - src.api.middleware.request_logging - WARNING - Request completed | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | method=POST | url=/auth/register | status=400 | time=0.016s | size=235
Request completed | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | method=POST | url=/auth/register | status=400 | time=0.016s | size=235
2025-10-21 12:45:47,975 - src.api.middleware.request_logging - ERROR - Error response | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | status=400 | url=/auth/register | query=
Error response | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | status=400 | url=/auth/register | query=
2025-10-21 12:45:47,975 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:47,978 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     logging_setup:logging_config.py:83 {"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:45:42.267169Z"}
INFO     src.database.database:database.py:162 Initializing database schema
INFO     src.database.database:database.py:180 Applying SQLite performance optimizations
INFO     src.database.database:database.py:201 Database initialization complete
INFO     src.api.dependencies:dependencies.py:58 Application starting up...
INFO     src.api.dependencies:dependencies.py:74 Initializing real AnalysisService.
INFO     src.api.dependencies:dependencies.py:47 Retriever instance not found, creating a new one.
INFO     sentence_transformers.SentenceTransformer:SentenceTransformer.py:219 Use pytorch device_name: cpu
INFO     sentence_transformers.SentenceTransformer:SentenceTransformer.py:227 Load pretrained SentenceTransformer: pritamdeka/S-PubMedBert-MS-MARCO
WARNING  src.core.hybrid_retriever:hybrid_retriever.py:85 Failed to initialize dense model 'pritamdeka/S-PubMedBert-MS-MARCO': Mock object has no attribute 'from_dict'
INFO     src.core.query_expander:query_expander.py:213 Initialized default medical vocabulary
INFO     src.api.dependencies:dependencies.py:52 New retriever instance created and initialized.
INFO     src.core.analysis_service:analysis_service.py:134 AnalysisService initialized with use_mocks=False
INFO     presidio-analyzer:analyzer_engine.py:62 nlp_engine not provided, creating default.
INFO     presidio-analyzer:nlp_engine_provider.py:101 Created NLP engine: spacy. Loaded models: ['en']
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsBankRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsItinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsSsnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: NhsRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SgFinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAbnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAcnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuTfnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuMedicareRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InAadhaarRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVehicleRegistrationRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNifRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNieRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItDriverLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItFiscalCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItVatCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItIdentityCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PlPeselRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CryptoRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: DateRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EmailRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IbanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IpRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: MedicalLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PhoneRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UrlRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVoterRecognizer
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SpacyRecognizer
INFO     src.core.preprocessing_service:preprocessing_service.py:35 Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:140 Advanced ensemble optimizer initialized with learning=True
INFO     src.core.human_feedback_system:human_feedback_system.py:143 Human feedback system initialized with learning=True
INFO     src.core.accuracy_hallucination_tracker:accuracy_hallucination_tracker.py:141 AccuracyHallucinationTracker initialized with tracking enabled: True
INFO     src.core.safe_accuracy_improvements:safe_accuracy_improvements.py:72 SafeAccuracyEnhancer initialized with 10 strategies
INFO     src.core.multi_tier_cache:multi_tier_cache.py:149 Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
INFO     src.core.clinical_education_engine:clinical_education_engine.py:169 Clinical education engine initialized with 5 learning objectives and 5 content items
INFO     src.core.analysis_service:analysis_service.py:178 7 Habits Framework initialized successfully
INFO     src.core.rag_database_integration:rag_database_integration.py:116 RAG database initialized successfully
INFO     src.core.analysis_service:analysis_service.py:193 RAG system initialized successfully
INFO     src.core.model_selection_utils:model_selection_utils.py:44 Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
WARNING  src.core.model_selection_utils:model_selection_utils.py:69 Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
INFO     src.core.ner:ner.py:81 Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
ERROR    src.core.ner:ner.py:94 Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
INFO     src.core.ner:ner.py:81 Loading clinical NER model: d4data/biomedical-ner-all
ERROR    src.core.ner:ner.py:94 Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
INFO     presidio-analyzer:analyzer_engine.py:62 nlp_engine not provided, creating default.
INFO     presidio-analyzer:nlp_engine_provider.py:101 Created NLP engine: spacy. Loaded models: ['en']
INFO     presidio-analyzer:analyzer_engine.py:77 registry not provided, creating default.
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsBankRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsItinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsSsnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: NhsRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SgFinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAbnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAcnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuTfnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuMedicareRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InAadhaarRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVehicleRegistrationRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNifRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNieRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItDriverLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItFiscalCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItVatCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItIdentityCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PlPeselRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CryptoRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: DateRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EmailRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IbanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IpRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: MedicalLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PhoneRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UrlRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVoterRecognizer
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SpacyRecognizer
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.compliance_analyzer:compliance_analyzer.py:119 Loaded existing confidence calibrator
INFO     src.core.compliance_analyzer:compliance_analyzer.py:103 ComplianceAnalyzer initialized with all services.
INFO     src.api.dependencies:dependencies.py:80 Application startup complete. Services are initialized.
INFO     src.api.main:main.py:339 {"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.796366Z"}
INFO     apscheduler.scheduler:base.py:507 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:1090 Added job "run_maintenance_jobs" to job store "default"
INFO     apscheduler.scheduler:base.py:214 Scheduler started
INFO     src.api.main:main.py:349 {"event": "Scheduler started for daily maintenance tasks.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.api.main:main.py:168 {"event": "Starting in-memory task purge service.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.api.main:main.py:359 {"event": "Cleanup services started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.api.main:main.py:363 {"event": "Request tracking initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.api.main:main.py:367 {"event": "Error handling initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.api.main:main.py:373 {"event": "Enhanced worker manager and task registry cleanup started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.core.service_manager:service_manager.py:192 {"service": "api", "port": 8001, "event": "Registered service", "logger": "src.core.service_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.core.service_manager:service_manager.py:192 {"service": "frontend", "port": 3001, "event": "Registered service", "logger": "src.core.service_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.812389Z"}
INFO     src.api.main:main.py:377 {"event": "Service manager initialized", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.817112Z"}
INFO     src.core.vector_store:vector_store.py:68 FAISS index initialized with embedding dimension: 768
INFO     src.api.main:main.py:220 {"event": "Populating vector store with existing report embeddings...", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.817112Z"}
INFO     src.core.file_cleanup_service:file_cleanup_service.py:40 Starting file cleanup service...
INFO     src.core.document_cleanup_service:document_cleanup_service.py:45 Document cleanup service started (interval: 1h, max_age: 24h)
INFO     src.core.cleanup_services:cleanup_services.py:335 Registered cleanup service: document
INFO     src.core.cleanup_services:cleanup_services.py:335 Registered cleanup service: session
INFO     src.core.cleanup_services:cleanup_services.py:335 Registered cleanup service: log
INFO     src.core.cleanup_services:cleanup_services.py:335 Registered cleanup service: database
INFO     src.core.cleanup_services:cleanup_services.py:335 Registered cleanup service: system
INFO     src.core.cleanup_services:cleanup_services.py:46 document cleanup service started
INFO     src.core.cleanup_services:cleanup_services.py:46 session cleanup service started
INFO     src.core.cleanup_services:cleanup_services.py:46 log cleanup service started
INFO     src.core.cleanup_services:cleanup_services.py:46 database cleanup service started
INFO     src.core.cleanup_services:cleanup_services.py:46 system cleanup service started
INFO     src.core.cleanup_services:cleanup_services.py:351 All cleanup services started
INFO     src.core.enhanced_worker_manager:enhanced_worker_manager.py:68 {"event": "Worker manager started", "logger": "src.core.enhanced_worker_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.919355Z"}
INFO     src.core.document_cleanup_service:document_cleanup_service.py:80 Starting document cleanup
INFO     src.core.cleanup_services:cleanup_services.py:101 Starting document cleanup
INFO     src.core.cleanup_services:cleanup_services.py:161 Starting session cleanup
INFO     src.core.cleanup_services:cleanup_services.py:197 Starting log cleanup
INFO     src.core.cleanup_services:cleanup_services.py:215 Log cleanup completed: 0 files cleaned
INFO     src.core.cleanup_services:cleanup_services.py:251 Starting database cleanup
INFO     src.core.cleanup_services:cleanup_services.py:256 Database cleanup completed
INFO     src.core.cleanup_services:cleanup_services.py:272 Starting system resource cleanup
INFO     src.core.cleanup_services:cleanup_services.py:292 System resource cleanup completed: 0 items cleaned
INFO     src.core.enhanced_worker_manager:enhanced_worker_manager.py:249 {"event": "Worker loop started", "logger": "src.core.enhanced_worker_manager", "level": "info", "timestamp": "2025-10-21T19:45:47.950924Z"}
INFO     src.core.document_cleanup_service:document_cleanup_service.py:110 Expired documents cleaned up
INFO     src.core.document_cleanup_service:document_cleanup_service.py:91 Cleanup completed: 0 expired docs, 0 temp files, 0 log files
INFO     src.core.cleanup_services:cleanup_services.py:126 Document cleanup completed: 0 files cleaned
INFO     src.core.cleanup_services:cleanup_services.py:178 Session cleanup completed: 0 sessions cleaned
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
INFO     src.api.main:main.py:251 {"event": "No existing reports with embeddings found to populate vector store.", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:45:47.975055Z"}
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | method=POST | url=/auth/register | status=400 | time=0.016s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=0c457ec8-a9d7-4027-9290-daed95bf3ad5 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
_ ERROR at setup of TestDocumentAnalysisWorkflow.test_analysis_with_different_document_types _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:47,986 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:47,986 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:47,991 - src.api.middleware.request_logging - INFO - Request started | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:47,993 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:47,993 - src.api.middleware.request_logging - WARNING - Request completed | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
Request completed | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
2025-10-21 12:45:47,995 - src.api.middleware.request_logging - ERROR - Error response | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | status=400 | url=/auth/register | query=
Error response | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | status=400 | url=/auth/register | query=
2025-10-21 12:45:47,996 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:47,997 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=21feb09f-6fdf-4644-b6c4-a34d9d2ccbf7 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
___ ERROR at setup of TestDocumentAnalysisWorkflow.test_concurrent_analysis ___
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,005 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,006 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,006 - src.api.middleware.request_logging - INFO - Request started | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,006 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,011 - src.api.middleware.request_logging - WARNING - Request completed | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
Request completed | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
2025-10-21 12:45:48,011 - src.api.middleware.request_logging - ERROR - Error response | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | status=400 | url=/auth/register | query=
Error response | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,011 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,012 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=75455fed-fd99-47b3-a8da-17aa4ca8beaa | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
_ ERROR at setup of TestDocumentAnalysisWorkflow.test_error_handling_invalid_document _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,021 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,023 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,026 - src.api.middleware.request_logging - INFO - Request started | id=bd63b64b-f4f4-46ea-9613-54572e352efb | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=bd63b64b-f4f4-46ea-9613-54572e352efb | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,028 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,029 - src.api.middleware.request_logging - WARNING - Request completed | id=bd63b64b-f4f4-46ea-9613-54572e352efb | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
Request completed | id=bd63b64b-f4f4-46ea-9613-54572e352efb | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
2025-10-21 12:45:48,029 - src.api.middleware.request_logging - ERROR - Error response | id=bd63b64b-f4f4-46ea-9613-54572e352efb | status=400 | url=/auth/register | query=
Error response | id=bd63b64b-f4f4-46ea-9613-54572e352efb | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,030 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,030 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=bd63b64b-f4f4-46ea-9613-54572e352efb | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=bd63b64b-f4f4-46ea-9613-54572e352efb | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=bd63b64b-f4f4-46ea-9613-54572e352efb | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
_ ERROR at setup of TestDocumentAnalysisWorkflow.test_analysis_progress_monitoring _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,038 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,040 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,040 - src.api.middleware.request_logging - INFO - Request started | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,042 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,044 - src.api.middleware.request_logging - WARNING - Request completed | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | method=POST | url=/auth/register | status=400 | time=0.005s | size=235
Request completed | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | method=POST | url=/auth/register | status=400 | time=0.005s | size=235
2025-10-21 12:45:48,044 - src.api.middleware.request_logging - ERROR - Error response | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | status=400 | url=/auth/register | query=
Error response | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,046 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,046 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | method=POST | url=/auth/register | status=400 | time=0.005s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=d7e41e2a-9b8c-4916-bd31-216933d494bf | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
__ ERROR at setup of TestPluginSystemWorkflow.test_plugin_discovery_workflow __
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,056 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,056 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,056 - src.api.middleware.request_logging - INFO - Request started | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,058 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,058 - src.api.middleware.request_logging - WARNING - Request completed | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
Request completed | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
2025-10-21 12:45:48,060 - src.api.middleware.request_logging - ERROR - Error response | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | status=400 | url=/auth/register | query=
Error response | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,060 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,060 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=3d7a7acf-7520-4667-8479-fa4bc2896cf9 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
_ ERROR at setup of TestPluginSystemWorkflow.test_plugin_lifecycle_management _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,071 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,071 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,071 - src.api.middleware.request_logging - INFO - Request started | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,075 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,075 - src.api.middleware.request_logging - WARNING - Request completed | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
Request completed | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
2025-10-21 12:45:48,075 - src.api.middleware.request_logging - ERROR - Error response | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | status=400 | url=/auth/register | query=
Error response | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,075 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,075 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=1d1f6045-c8c3-436a-8c0a-77f70d837fa3 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
___ ERROR at setup of TestPluginSystemWorkflow.test_plugin_extension_points ___
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,083 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,087 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,087 - src.api.middleware.request_logging - INFO - Request started | id=fe45da97-5652-4da5-a071-a95ccfca9413 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=fe45da97-5652-4da5-a071-a95ccfca9413 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,089 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,089 - src.api.middleware.request_logging - WARNING - Request completed | id=fe45da97-5652-4da5-a071-a95ccfca9413 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
Request completed | id=fe45da97-5652-4da5-a071-a95ccfca9413 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
2025-10-21 12:45:48,089 - src.api.middleware.request_logging - ERROR - Error response | id=fe45da97-5652-4da5-a071-a95ccfca9413 | status=400 | url=/auth/register | query=
Error response | id=fe45da97-5652-4da5-a071-a95ccfca9413 | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,091 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,091 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=fe45da97-5652-4da5-a071-a95ccfca9413 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=fe45da97-5652-4da5-a071-a95ccfca9413 | method=POST | url=/auth/register | status=400 | time=0.002s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=fe45da97-5652-4da5-a071-a95ccfca9413 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
___ ERROR at setup of TestPluginSystemWorkflow.test_plugin_batch_operations ___
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,100 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,100 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,100 - src.api.middleware.request_logging - INFO - Request started | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,100 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,100 - src.api.middleware.request_logging - WARNING - Request completed | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
Request completed | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
2025-10-21 12:45:48,100 - src.api.middleware.request_logging - ERROR - Error response | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | status=400 | url=/auth/register | query=
Error response | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,100 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,100 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=1f6840ea-1710-44d4-a71b-8b16e7d79174 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
____ ERROR at setup of TestPluginSystemWorkflow.test_plugin_error_handling ____
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,119 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,119 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,119 - src.api.middleware.request_logging - INFO - Request started | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,119 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,119 - src.api.middleware.request_logging - WARNING - Request completed | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
Request completed | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
2025-10-21 12:45:48,123 - src.api.middleware.request_logging - ERROR - Error response | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | status=400 | url=/auth/register | query=
Error response | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,123 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,123 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=bf5dff64-a89c-41ce-be52-43ff51866e9e | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
_ ERROR at setup of TestPluginSystemWorkflow.test_plugin_performance_monitoring _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,130 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,130 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,130 - src.api.middleware.request_logging - INFO - Request started | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,130 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,130 - src.api.middleware.request_logging - WARNING - Request completed | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
Request completed | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
2025-10-21 12:45:48,130 - src.api.middleware.request_logging - ERROR - Error response | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | status=400 | url=/auth/register | query=
Error response | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,130 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,130 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | method=POST | url=/auth/register | status=400 | time=0.000s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=43138e85-b8d9-4b78-b86d-33d4944a04c5 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
_ ERROR at setup of TestPluginSystemWorkflow.test_plugin_integration_with_analysis _
E   assert 400 in [200, 201, 409]
     +  where 400 = <Response [400 Bad Request]>.status_code
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:45:48,140 - src.api.middleware.request_tracking - INFO - Request started: POST /auth/register
Request started: POST /auth/register
2025-10-21 12:45:48,140 - requests - INFO - Request: POST /auth/register
Request: POST /auth/register
2025-10-21 12:45:48,140 - src.api.middleware.request_logging - INFO - Request started | id=a2fc173d-8654-429f-877a-94d35ed51d20 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
Request started | id=a2fc173d-8654-429f-877a-94d35ed51d20 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
2025-10-21 12:45:48,142 - src.api.enhanced_error_context - WARNING - Medium severity error: 400: Password must contain at least one uppercase letter
Medium severity error: 400: Password must contain at least one uppercase letter
2025-10-21 12:45:48,144 - src.api.middleware.request_logging - WARNING - Request completed | id=a2fc173d-8654-429f-877a-94d35ed51d20 | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
Request completed | id=a2fc173d-8654-429f-877a-94d35ed51d20 | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
2025-10-21 12:45:48,144 - src.api.middleware.request_logging - ERROR - Error response | id=a2fc173d-8654-429f-877a-94d35ed51d20 | status=400 | url=/auth/register | query=
Error response | id=a2fc173d-8654-429f-877a-94d35ed51d20 | status=400 | url=/auth/register | query=
2025-10-21 12:45:48,144 - requests - INFO - Response: POST /auth/register -> 400
Response: POST /auth/register -> 400
2025-10-21 12:45:48,144 - src.api.middleware.request_tracking - INFO - Request completed: POST /auth/register - 400
Request completed: POST /auth/register - 400
----------------------------- Captured log setup ------------------------------
INFO     src.api.middleware.request_tracking:request_tracking.py:50 Request started: POST /auth/register
INFO     requests:enhanced_logging.py:85 Request: POST /auth/register
INFO     src.api.middleware.request_logging:request_logging.py:64 Request started | id=a2fc173d-8654-429f-877a-94d35ed51d20 | method=POST | url=/auth/register | client_ip=testclient | user_agent=testclient
WARNING  src.api.enhanced_error_context:enhanced_error_context.py:313 Medium severity error: 400: Password must contain at least one uppercase letter
WARNING  src.api.middleware.request_logging:request_logging.py:108 Request completed | id=a2fc173d-8654-429f-877a-94d35ed51d20 | method=POST | url=/auth/register | status=400 | time=0.004s | size=235
ERROR    src.api.middleware.request_logging:request_logging.py:129 Error response | id=a2fc173d-8654-429f-877a-94d35ed51d20 | status=400 | url=/auth/register | query=
INFO     requests:enhanced_logging.py:107 Response: POST /auth/register -> 400
INFO     src.api.middleware.request_tracking:request_tracking.py:69 Request completed: POST /auth/register - 400
______________ ERROR at setup of test_analyze_document_api_route ______________
E   apscheduler.schedulers.SchedulerAlreadyRunningError: Scheduler is already running
---------------------------- Captured stdout setup ----------------------------
2025-10-21 12:52:10,714 - logging_setup - INFO - {"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:52:10.714326Z"}
{"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:52:10.714326Z"}
{"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:52:10.714326Z"}
2025-10-21 12:52:10,714 - src.database.database - INFO - Initializing database schema
Initializing database schema
Initializing database schema
2025-10-21 12:52:10,717 - src.database.database - INFO - Applying SQLite performance optimizations
Applying SQLite performance optimizations
Applying SQLite performance optimizations
2025-10-21 12:52:10,718 - src.database.database - INFO - Database initialization complete
Database initialization complete
Database initialization complete
2025-10-21 12:52:10,719 - src.api.dependencies - INFO - Application starting up...
Application starting up...
Application starting up...
2025-10-21 12:52:10,719 - src.api.dependencies - INFO - Initializing real AnalysisService.
Initializing real AnalysisService.
Initializing real AnalysisService.
2025-10-21 12:52:10,719 - src.core.analysis_service - INFO - AnalysisService initialized with use_mocks=False
AnalysisService initialized with use_mocks=False
AnalysisService initialized with use_mocks=False
2025-10-21 12:52:10,719 - presidio-analyzer - INFO - nlp_engine not provided, creating default.
nlp_engine not provided, creating default.
nlp_engine not provided, creating default.
2025-10-21 12:52:11,717 - presidio-analyzer - INFO - Created NLP engine: spacy. Loaded models: ['en']
Created NLP engine: spacy. Loaded models: ['en']
Created NLP engine: spacy. Loaded models: ['en']
2025-10-21 12:52:11,723 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:11,723 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:11,723 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:11,723 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:11,723 - presidio-analyzer - INFO - Loaded recognizer: UsBankRecognizer
Loaded recognizer: UsBankRecognizer
Loaded recognizer: UsBankRecognizer
2025-10-21 12:52:11,725 - presidio-analyzer - INFO - Loaded recognizer: UsLicenseRecognizer
Loaded recognizer: UsLicenseRecognizer
Loaded recognizer: UsLicenseRecognizer
2025-10-21 12:52:11,725 - presidio-analyzer - INFO - Loaded recognizer: UsItinRecognizer
Loaded recognizer: UsItinRecognizer
Loaded recognizer: UsItinRecognizer
2025-10-21 12:52:11,725 - presidio-analyzer - INFO - Loaded recognizer: UsPassportRecognizer
Loaded recognizer: UsPassportRecognizer
Loaded recognizer: UsPassportRecognizer
2025-10-21 12:52:11,725 - presidio-analyzer - INFO - Loaded recognizer: UsSsnRecognizer
Loaded recognizer: UsSsnRecognizer
Loaded recognizer: UsSsnRecognizer
2025-10-21 12:52:11,725 - presidio-analyzer - INFO - Loaded recognizer: NhsRecognizer
Loaded recognizer: NhsRecognizer
Loaded recognizer: NhsRecognizer
2025-10-21 12:52:11,725 - presidio-analyzer - INFO - Loaded recognizer: SgFinRecognizer
Loaded recognizer: SgFinRecognizer
Loaded recognizer: SgFinRecognizer
2025-10-21 12:52:11,726 - presidio-analyzer - INFO - Loaded recognizer: AuAbnRecognizer
Loaded recognizer: AuAbnRecognizer
Loaded recognizer: AuAbnRecognizer
2025-10-21 12:52:11,726 - presidio-analyzer - INFO - Loaded recognizer: AuAcnRecognizer
Loaded recognizer: AuAcnRecognizer
Loaded recognizer: AuAcnRecognizer
2025-10-21 12:52:11,726 - presidio-analyzer - INFO - Loaded recognizer: AuTfnRecognizer
Loaded recognizer: AuTfnRecognizer
Loaded recognizer: AuTfnRecognizer
2025-10-21 12:52:11,726 - presidio-analyzer - INFO - Loaded recognizer: AuMedicareRecognizer
Loaded recognizer: AuMedicareRecognizer
Loaded recognizer: AuMedicareRecognizer
2025-10-21 12:52:11,726 - presidio-analyzer - INFO - Loaded recognizer: InPanRecognizer
Loaded recognizer: InPanRecognizer
Loaded recognizer: InPanRecognizer
2025-10-21 12:52:11,727 - presidio-analyzer - INFO - Loaded recognizer: InAadhaarRecognizer
Loaded recognizer: InAadhaarRecognizer
Loaded recognizer: InAadhaarRecognizer
2025-10-21 12:52:11,727 - presidio-analyzer - INFO - Loaded recognizer: InVehicleRegistrationRecognizer
Loaded recognizer: InVehicleRegistrationRecognizer
Loaded recognizer: InVehicleRegistrationRecognizer
2025-10-21 12:52:11,727 - presidio-analyzer - INFO - Loaded recognizer: InPassportRecognizer
Loaded recognizer: InPassportRecognizer
Loaded recognizer: InPassportRecognizer
2025-10-21 12:52:11,727 - presidio-analyzer - INFO - Loaded recognizer: EsNifRecognizer
Loaded recognizer: EsNifRecognizer
Loaded recognizer: EsNifRecognizer
2025-10-21 12:52:11,728 - presidio-analyzer - INFO - Loaded recognizer: EsNieRecognizer
Loaded recognizer: EsNieRecognizer
Loaded recognizer: EsNieRecognizer
2025-10-21 12:52:11,728 - presidio-analyzer - INFO - Loaded recognizer: ItDriverLicenseRecognizer
Loaded recognizer: ItDriverLicenseRecognizer
Loaded recognizer: ItDriverLicenseRecognizer
2025-10-21 12:52:11,728 - presidio-analyzer - INFO - Loaded recognizer: ItFiscalCodeRecognizer
Loaded recognizer: ItFiscalCodeRecognizer
Loaded recognizer: ItFiscalCodeRecognizer
2025-10-21 12:52:11,728 - presidio-analyzer - INFO - Loaded recognizer: ItVatCodeRecognizer
Loaded recognizer: ItVatCodeRecognizer
Loaded recognizer: ItVatCodeRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: ItIdentityCardRecognizer
Loaded recognizer: ItIdentityCardRecognizer
Loaded recognizer: ItIdentityCardRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: ItPassportRecognizer
Loaded recognizer: ItPassportRecognizer
Loaded recognizer: ItPassportRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: PlPeselRecognizer
Loaded recognizer: PlPeselRecognizer
Loaded recognizer: PlPeselRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: CryptoRecognizer
Loaded recognizer: CryptoRecognizer
Loaded recognizer: CryptoRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: DateRecognizer
Loaded recognizer: DateRecognizer
Loaded recognizer: DateRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: EmailRecognizer
Loaded recognizer: EmailRecognizer
Loaded recognizer: EmailRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: IbanRecognizer
Loaded recognizer: IbanRecognizer
Loaded recognizer: IbanRecognizer
2025-10-21 12:52:11,729 - presidio-analyzer - INFO - Loaded recognizer: IpRecognizer
Loaded recognizer: IpRecognizer
Loaded recognizer: IpRecognizer
2025-10-21 12:52:11,731 - presidio-analyzer - INFO - Loaded recognizer: MedicalLicenseRecognizer
Loaded recognizer: MedicalLicenseRecognizer
Loaded recognizer: MedicalLicenseRecognizer
2025-10-21 12:52:11,731 - presidio-analyzer - INFO - Loaded recognizer: PhoneRecognizer
Loaded recognizer: PhoneRecognizer
Loaded recognizer: PhoneRecognizer
2025-10-21 12:52:11,731 - presidio-analyzer - INFO - Loaded recognizer: UrlRecognizer
Loaded recognizer: UrlRecognizer
Loaded recognizer: UrlRecognizer
2025-10-21 12:52:11,731 - presidio-analyzer - INFO - Loaded recognizer: InVoterRecognizer
Loaded recognizer: InVoterRecognizer
Loaded recognizer: InVoterRecognizer
2025-10-21 12:52:11,731 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:52:11,731 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:11,731 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:52:11,731 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:52:11,731 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:52:11,731 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:11,732 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:11,732 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:11,732 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:11,732 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:11,732 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:52:11,732 - presidio-analyzer - INFO - Loaded recognizer: SpacyRecognizer
Loaded recognizer: SpacyRecognizer
Loaded recognizer: SpacyRecognizer
2025-10-21 12:52:11,825 - src.core.preprocessing_service - INFO - Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
2025-10-21 12:52:11,825 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
Unified explanation engine initialized with caching=True
Unified explanation engine initialized with caching=True
2025-10-21 12:52:11,825 - src.core.advanced_ensemble_optimizer - INFO - Advanced ensemble optimizer initialized with learning=True
Advanced ensemble optimizer initialized with learning=True
Advanced ensemble optimizer initialized with learning=True
2025-10-21 12:52:11,826 - src.core.human_feedback_system - INFO - Human feedback system initialized with learning=True
Human feedback system initialized with learning=True
Human feedback system initialized with learning=True
2025-10-21 12:52:11,826 - src.core.multi_tier_cache - INFO - Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
2025-10-21 12:52:11,826 - src.core.clinical_education_engine - INFO - Clinical education engine initialized with 5 learning objectives and 5 content items
Clinical education engine initialized with 5 learning objectives and 5 content items
Clinical education engine initialized with 5 learning objectives and 5 content items
2025-10-21 12:52:11,826 - src.core.analysis_service - INFO - 7 Habits Framework initialized successfully
7 Habits Framework initialized successfully
7 Habits Framework initialized successfully
2025-10-21 12:52:11,828 - src.core.rag_database_integration - INFO - RAG database initialized successfully
RAG database initialized successfully
RAG database initialized successfully
2025-10-21 12:52:11,828 - src.core.analysis_service - INFO - RAG system initialized successfully
RAG system initialized successfully
RAG system initialized successfully
2025-10-21 12:52:11,829 - src.core.model_selection_utils - INFO - Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
2025-10-21 12:52:11,829 - src.core.model_selection_utils - WARNING - Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
2025-10-21 12:52:11,830 - src.core.ner - INFO - Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
2025-10-21 12:52:12,143 - src.core.performance_metrics_collector - WARNING - High memory usage detected: 2626.93MB
High memory usage detected: 2626.93MB
High memory usage detected: 2626.93MB
2025-10-21 12:52:12,347 - src.core.ner - ERROR - Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
2025-10-21 12:52:12,348 - src.core.ner - INFO - Loading clinical NER model: d4data/biomedical-ner-all
Loading clinical NER model: d4data/biomedical-ner-all
Loading clinical NER model: d4data/biomedical-ner-all
2025-10-21 12:52:12,600 - src.core.ner - ERROR - Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
2025-10-21 12:52:12,600 - presidio-analyzer - INFO - nlp_engine not provided, creating default.
nlp_engine not provided, creating default.
nlp_engine not provided, creating default.
2025-10-21 12:52:13,627 - presidio-analyzer - INFO - Created NLP engine: spacy. Loaded models: ['en']
Created NLP engine: spacy. Loaded models: ['en']
Created NLP engine: spacy. Loaded models: ['en']
2025-10-21 12:52:13,627 - presidio-analyzer - INFO - registry not provided, creating default.
registry not provided, creating default.
registry not provided, creating default.
2025-10-21 12:52:13,634 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:13,634 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:13,634 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:13,635 - presidio-analyzer - INFO - Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
Loaded recognizer: CreditCardRecognizer
2025-10-21 12:52:13,635 - presidio-analyzer - INFO - Loaded recognizer: UsBankRecognizer
Loaded recognizer: UsBankRecognizer
Loaded recognizer: UsBankRecognizer
2025-10-21 12:52:13,635 - presidio-analyzer - INFO - Loaded recognizer: UsLicenseRecognizer
Loaded recognizer: UsLicenseRecognizer
Loaded recognizer: UsLicenseRecognizer
2025-10-21 12:52:13,635 - presidio-analyzer - INFO - Loaded recognizer: UsItinRecognizer
Loaded recognizer: UsItinRecognizer
Loaded recognizer: UsItinRecognizer
2025-10-21 12:52:13,635 - presidio-analyzer - INFO - Loaded recognizer: UsPassportRecognizer
Loaded recognizer: UsPassportRecognizer
Loaded recognizer: UsPassportRecognizer
2025-10-21 12:52:13,635 - presidio-analyzer - INFO - Loaded recognizer: UsSsnRecognizer
Loaded recognizer: UsSsnRecognizer
Loaded recognizer: UsSsnRecognizer
2025-10-21 12:52:13,636 - presidio-analyzer - INFO - Loaded recognizer: NhsRecognizer
Loaded recognizer: NhsRecognizer
Loaded recognizer: NhsRecognizer
2025-10-21 12:52:13,636 - presidio-analyzer - INFO - Loaded recognizer: SgFinRecognizer
Loaded recognizer: SgFinRecognizer
Loaded recognizer: SgFinRecognizer
2025-10-21 12:52:13,636 - presidio-analyzer - INFO - Loaded recognizer: AuAbnRecognizer
Loaded recognizer: AuAbnRecognizer
Loaded recognizer: AuAbnRecognizer
2025-10-21 12:52:13,636 - presidio-analyzer - INFO - Loaded recognizer: AuAcnRecognizer
Loaded recognizer: AuAcnRecognizer
Loaded recognizer: AuAcnRecognizer
2025-10-21 12:52:13,637 - presidio-analyzer - INFO - Loaded recognizer: AuTfnRecognizer
Loaded recognizer: AuTfnRecognizer
Loaded recognizer: AuTfnRecognizer
2025-10-21 12:52:13,637 - presidio-analyzer - INFO - Loaded recognizer: AuMedicareRecognizer
Loaded recognizer: AuMedicareRecognizer
Loaded recognizer: AuMedicareRecognizer
2025-10-21 12:52:13,637 - presidio-analyzer - INFO - Loaded recognizer: InPanRecognizer
Loaded recognizer: InPanRecognizer
Loaded recognizer: InPanRecognizer
2025-10-21 12:52:13,637 - presidio-analyzer - INFO - Loaded recognizer: InAadhaarRecognizer
Loaded recognizer: InAadhaarRecognizer
Loaded recognizer: InAadhaarRecognizer
2025-10-21 12:52:13,637 - presidio-analyzer - INFO - Loaded recognizer: InVehicleRegistrationRecognizer
Loaded recognizer: InVehicleRegistrationRecognizer
Loaded recognizer: InVehicleRegistrationRecognizer
2025-10-21 12:52:13,637 - presidio-analyzer - INFO - Loaded recognizer: InPassportRecognizer
Loaded recognizer: InPassportRecognizer
Loaded recognizer: InPassportRecognizer
2025-10-21 12:52:13,638 - presidio-analyzer - INFO - Loaded recognizer: EsNifRecognizer
Loaded recognizer: EsNifRecognizer
Loaded recognizer: EsNifRecognizer
2025-10-21 12:52:13,638 - presidio-analyzer - INFO - Loaded recognizer: EsNieRecognizer
Loaded recognizer: EsNieRecognizer
Loaded recognizer: EsNieRecognizer
2025-10-21 12:52:13,638 - presidio-analyzer - INFO - Loaded recognizer: ItDriverLicenseRecognizer
Loaded recognizer: ItDriverLicenseRecognizer
Loaded recognizer: ItDriverLicenseRecognizer
2025-10-21 12:52:13,638 - presidio-analyzer - INFO - Loaded recognizer: ItFiscalCodeRecognizer
Loaded recognizer: ItFiscalCodeRecognizer
Loaded recognizer: ItFiscalCodeRecognizer
2025-10-21 12:52:13,638 - presidio-analyzer - INFO - Loaded recognizer: ItVatCodeRecognizer
Loaded recognizer: ItVatCodeRecognizer
Loaded recognizer: ItVatCodeRecognizer
2025-10-21 12:52:13,638 - presidio-analyzer - INFO - Loaded recognizer: ItIdentityCardRecognizer
Loaded recognizer: ItIdentityCardRecognizer
Loaded recognizer: ItIdentityCardRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: ItPassportRecognizer
Loaded recognizer: ItPassportRecognizer
Loaded recognizer: ItPassportRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: PlPeselRecognizer
Loaded recognizer: PlPeselRecognizer
Loaded recognizer: PlPeselRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: CryptoRecognizer
Loaded recognizer: CryptoRecognizer
Loaded recognizer: CryptoRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: DateRecognizer
Loaded recognizer: DateRecognizer
Loaded recognizer: DateRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: EmailRecognizer
Loaded recognizer: EmailRecognizer
Loaded recognizer: EmailRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: IbanRecognizer
Loaded recognizer: IbanRecognizer
Loaded recognizer: IbanRecognizer
2025-10-21 12:52:13,639 - presidio-analyzer - INFO - Loaded recognizer: IpRecognizer
Loaded recognizer: IpRecognizer
Loaded recognizer: IpRecognizer
2025-10-21 12:52:13,640 - presidio-analyzer - INFO - Loaded recognizer: MedicalLicenseRecognizer
Loaded recognizer: MedicalLicenseRecognizer
Loaded recognizer: MedicalLicenseRecognizer
2025-10-21 12:52:13,640 - presidio-analyzer - INFO - Loaded recognizer: PhoneRecognizer
Loaded recognizer: PhoneRecognizer
Loaded recognizer: PhoneRecognizer
2025-10-21 12:52:13,640 - presidio-analyzer - INFO - Loaded recognizer: UrlRecognizer
Loaded recognizer: UrlRecognizer
Loaded recognizer: UrlRecognizer
2025-10-21 12:52:13,640 - presidio-analyzer - INFO - Loaded recognizer: InVoterRecognizer
Loaded recognizer: InVoterRecognizer
Loaded recognizer: InVoterRecognizer
2025-10-21 12:52:13,640 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:52:13,640 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:13,640 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:52:13,640 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - WARNING - Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
2025-10-21 12:52:13,641 - presidio-analyzer - INFO - Loaded recognizer: SpacyRecognizer
Loaded recognizer: SpacyRecognizer
Loaded recognizer: SpacyRecognizer
2025-10-21 12:52:13,642 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
Unified explanation engine initialized with caching=True
Unified explanation engine initialized with caching=True
2025-10-21 12:52:13,642 - src.core.compliance_analyzer - INFO - Loaded existing confidence calibrator
Loaded existing confidence calibrator
Loaded existing confidence calibrator
2025-10-21 12:52:13,642 - src.core.compliance_analyzer - INFO - ComplianceAnalyzer initialized with all services.
ComplianceAnalyzer initialized with all services.
ComplianceAnalyzer initialized with all services.
2025-10-21 12:52:13,650 - src.api.dependencies - INFO - Application startup complete. Services are initialized.
Application startup complete. Services are initialized.
Application startup complete. Services are initialized.
2025-10-21 12:52:13,651 - src.api.main - INFO - {"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:52:13.651916Z"}
{"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:52:13.651916Z"}
{"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:52:13.651916Z"}
2025-10-21 12:52:13,651 - apscheduler.scheduler - INFO - Added job "run_maintenance_jobs" to job store "default"
Added job "run_maintenance_jobs" to job store "default"
Added job "run_maintenance_jobs" to job store "default"
2025-10-21 12:52:13,756 - src.core.performance_metrics_collector - WARNING - High memory usage detected: 3214.67MB
High memory usage detected: 3214.67MB
High memory usage detected: 3214.67MB
----------------------------- Captured log setup ------------------------------
INFO     logging_setup:logging_config.py:83 {"event": "Structured logging configured successfully.", "logger": "logging_setup", "level": "info", "timestamp": "2025-10-21T19:52:10.714326Z"}
INFO     src.database.database:database.py:162 Initializing database schema
INFO     src.database.database:database.py:180 Applying SQLite performance optimizations
INFO     src.database.database:database.py:201 Database initialization complete
INFO     src.api.dependencies:dependencies.py:58 Application starting up...
INFO     src.api.dependencies:dependencies.py:74 Initializing real AnalysisService.
INFO     src.core.analysis_service:analysis_service.py:134 AnalysisService initialized with use_mocks=False
INFO     presidio-analyzer:analyzer_engine.py:62 nlp_engine not provided, creating default.
INFO     presidio-analyzer:nlp_engine_provider.py:101 Created NLP engine: spacy. Loaded models: ['en']
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsBankRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsItinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsSsnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: NhsRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SgFinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAbnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAcnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuTfnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuMedicareRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InAadhaarRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVehicleRegistrationRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNifRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNieRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItDriverLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItFiscalCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItVatCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItIdentityCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PlPeselRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CryptoRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: DateRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EmailRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IbanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IpRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: MedicalLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PhoneRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UrlRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVoterRecognizer
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SpacyRecognizer
INFO     src.core.preprocessing_service:preprocessing_service.py:35 Successfully loaded custom medical dictionary from: src/resources/medical_dictionary.txt
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:140 Advanced ensemble optimizer initialized with learning=True
INFO     src.core.human_feedback_system:human_feedback_system.py:143 Human feedback system initialized with learning=True
INFO     src.core.multi_tier_cache:multi_tier_cache.py:149 Multi-tier cache system initialized: L1=200MB, L2=False, L3=True, Policy=lru
INFO     src.core.clinical_education_engine:clinical_education_engine.py:169 Clinical education engine initialized with 5 learning objectives and 5 content items
INFO     src.core.analysis_service:analysis_service.py:178 7 Habits Framework initialized successfully
INFO     src.core.rag_database_integration:rag_database_integration.py:116 RAG database initialized successfully
INFO     src.core.analysis_service:analysis_service.py:193 RAG system initialized successfully
INFO     src.core.model_selection_utils:model_selection_utils.py:44 Selected generator profile cpu_tinyllama_clinical (system memory {mem_gb} GB)
WARNING  src.core.model_selection_utils:model_selection_utils.py:69 Configured generator_local_path does not exist: C:\Users\kevin\Desktop\ElectroAnalyzer\models\tinyllama-clinical
INFO     src.core.ner:ner.py:81 Loading clinical NER model: OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M
WARNING  src.core.performance_metrics_collector:performance_metrics_collector.py:174 High memory usage detected: 2626.93MB
ERROR    src.core.ner:ner.py:94 Failed to load NER model OpenMed/OpenMed-NER-PathologyDetect-PubMed-v2-109M: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
INFO     src.core.ner:ner.py:81 Loading clinical NER model: d4data/biomedical-ner-all
ERROR    src.core.ner:ner.py:94 Failed to load NER model d4data/biomedical-ner-all: {e}
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\ner.py", line 83, in _initialize_pipelines
    model = AutoModelForTokenClassification.from_pretrained(model_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\transformers\models\auto\configuration_auto.py", line 1104, in from_pretrained
    return config_class.from_dict(config_dict, **unused_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py", line 688, in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
AttributeError: Mock object has no attribute 'from_dict'
INFO     presidio-analyzer:analyzer_engine.py:62 nlp_engine not provided, creating default.
INFO     presidio-analyzer:nlp_engine_provider.py:101 Created NLP engine: spacy. Loaded models: ['en']
INFO     presidio-analyzer:analyzer_engine.py:77 registry not provided, creating default.
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CreditCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsBankRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsItinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UsSsnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: NhsRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SgFinRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAbnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuAcnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuTfnRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: AuMedicareRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InAadhaarRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVehicleRegistrationRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNifRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EsNieRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItDriverLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItFiscalCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItVatCodeRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItIdentityCardRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: ItPassportRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PlPeselRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: CryptoRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: DateRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: EmailRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IbanRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: IpRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: MedicalLicenseRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: PhoneRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: UrlRecognizer
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: InVoterRecognizer
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - CreditCardRecognizer supported languages: pl, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNifRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - EsNieRecognizer supported languages: es, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItDriverLicenseRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItFiscalCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItVatCodeRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItIdentityCardRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - ItPassportRecognizer supported languages: it, registry supported languages: en
WARNING  presidio-analyzer:recognizers_loader_utils.py:119 Recognizer not added to registry because language is not supported by registry - PlPeselRecognizer supported languages: pl, registry supported languages: en
INFO     presidio-analyzer:entity_recognizer.py:58 Loaded recognizer: SpacyRecognizer
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.compliance_analyzer:compliance_analyzer.py:119 Loaded existing confidence calibrator
INFO     src.core.compliance_analyzer:compliance_analyzer.py:103 ComplianceAnalyzer initialized with all services.
INFO     src.api.dependencies:dependencies.py:80 Application startup complete. Services are initialized.
INFO     src.api.main:main.py:339 {"event": "Vector store initialization started in background", "logger": "src.api.main", "level": "info", "timestamp": "2025-10-21T19:52:13.651916Z"}
INFO     apscheduler.scheduler:base.py:1090 Added job "run_maintenance_jobs" to job store "default"
WARNING  src.core.performance_metrics_collector:performance_metrics_collector.py:174 High memory usage detected: 3214.67MB
_____ ERROR at setup of test_analyze_document_rejects_invalid_strictness ______
E   apscheduler.schedulers.SchedulerAlreadyRunningError: Scheduler is already running
_______ ERROR at setup of test_analyze_document_rejects_oversized_file ________
E   apscheduler.schedulers.SchedulerAlreadyRunningError: Scheduler is already running
____ ERROR at setup of TestSecurityMiddleware.test_sql_injection_detection ____
E   TypeError: SecurityMiddleware.__init__() got an unexpected keyword argument 'enable_rate_limiting'
_________ ERROR at setup of TestSecurityMiddleware.test_xss_detection _________
E   TypeError: SecurityMiddleware.__init__() got an unexpected keyword argument 'enable_rate_limiting'
_________ ERROR at setup of TestSecurityMiddleware.test_rate_limiting _________
E   TypeError: SecurityMiddleware.__init__() got an unexpected keyword argument 'enable_rate_limiting'
================================== FAILURES ===================================
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\integration\test_enhanced_features_integration.py:115: assert 404 == 426
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\integration\test_enhanced_features_integration.py:162: assert 404 in [200, 401]
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\integration\test_enhanced_features_integration.py:193: assert 0 >= 3
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\integration\test_enhanced_features_integration.py:208: assert 0 >= 1
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:29: assert 2.1439952850341797 < 1.0
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:84: assert 8.700937271118164 < 2.0
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:120: assert 44548096 < ((10 * 1024) * 1024)
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:139: assert 404 == 426
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:173: assert 15.99311375617981 < 2.0
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:189: assert 32.09386134147644 < 3.0
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\performance\test_load_performance.py:240: assert 7 >= 50
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\test_new_components.py:172: AssertionError: assert False
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\test_new_components.py:202: assert 1 > 1
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\test_new_components.py:283: assert False
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\test_new_components.py:348: assert False
C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\type_safety.py:352: NameError: name 're' is not defined
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\test_new_components.py:383: NameError: name 'ErrorSeverity' is not defined
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\test_new_components.py:472: AssertionError: assert False
C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\analysis_service.py:357: AttributeError: 'AnalysisService' object has no attribute '_models_registered'
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_database_crud.py:86: assert None is not None
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_database_crud.py:112: AttributeError: 'NoneType' object has no attribute 'name'
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_database_crud.py:130: assert False is True
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_enhanced_error_context.py:209: Exception: Unexpected error
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_enhanced_error_context.py:209: Exception: Unexpected error
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_enhanced_error_context.py:209: Exception: Unexpected error
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_llm_service_backend.py:57: AssertionError: assert 'An error occ...t generation.' == 'decoded'
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\Desktop\ElectroAnalyzer\tests\unit\test_performance_metrics.py:130: AssertionError: Expected 'warning' to have been called once. Called 0 times.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py:681: RuntimeError: There is no current event loop in thread 'MainThread'.
============================== warnings summary ===============================
tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_metrics_collection
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\inspect.py:756: RuntimeWarning: coroutine 'TestSystemMetricsSource.test_system_metrics_collection' was never awaited
    while not isinstance(func, type) and hasattr(func, '__wrapped__'):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_metrics_collection
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\inspect.py:756: RuntimeWarning: coroutine 'TestSystemMetricsSource.test_system_metrics_error_handling' was never awaited
    while not isinstance(func, type) and hasattr(func, '__wrapped__'):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_metrics_collection
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\inspect.py:756: RuntimeWarning: coroutine 'TestApplicationMetricsSource.test_application_metrics_collection' was never awaited
    while not isinstance(func, type) and hasattr(func, '__wrapped__'):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_metrics_collector.py::TestGlobalFunctions::test_convenience_functions_error_handling
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\logging\__init__.py:828: RuntimeWarning: coroutine 'TestMetricsCollector.test_metrics_collection' was never awaited
    for f in self.filters:
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_should_retrain_time_based
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\compat.py:230: RuntimeWarning: coroutine 'TestMLTrainingPipeline.test_insufficient_training_data' was never awaited
    return func.__func__
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_should_retrain_time_based
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\compat.py:230: RuntimeWarning: coroutine 'TestMLTrainingPipeline.test_successful_training_and_deployment' was never awaited
    return func.__func__
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ml_trainer.py::test_legacy_function_compatibility
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\nodes.py:344: RuntimeWarning: coroutine 'TestMLTrainingPipeline.test_training_error_handling' was never awaited
    return (x[1] for x in self.iter_markers_with_node(name=name))
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ml_trainer.py::test_legacy_function_compatibility
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\nodes.py:344: RuntimeWarning: coroutine 'TestMLTrainingPipeline.test_skipped_training_due_to_time' was never awaited
    return (x[1] for x in self.iter_markers_with_node(name=name))
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ner.py::TestNERPipeline::test_initialization_with_empty_models
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\configparser.py:1040: RuntimeWarning: coroutine 'TestMLTrainingIntegration.test_end_to_end_training_pipeline' was never awaited
    inline_prefixes = {p: -1 for p in self._inline_comment_prefixes}
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ner.py::TestNERPipeline::test_initialization_with_empty_models
  shibokensupport/signature/loader.py:54: RuntimeWarning: coroutine 'TestAIModelMetricsSource.test_ai_metrics_collection' was never awaited
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ner.py::TestNERPipeline::test_initialization_with_empty_models
  shibokensupport/signature/loader.py:54: RuntimeWarning: coroutine 'TestMLTrainingPipeline.test_training_with_insufficient_improvement' was never awaited
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_ner.py::TestNERPipeline::test_initialization_with_empty_models
  shibokensupport/signature/loader.py:54: RuntimeWarning: coroutine 'test_legacy_function_compatibility' was never awaited
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_get_ner_results
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\inspect.py:756: RuntimeWarning: coroutine 'TestBatchCacheOperations.test_batch_get_embeddings' was never awaited
    while not isinstance(func, type) and hasattr(func, '__wrapped__'):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_get_ner_results
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\inspect.py:756: RuntimeWarning: coroutine 'TestBatchCacheOperations.test_batch_set_embeddings' was never awaited
    while not isinstance(func, type) and hasattr(func, '__wrapped__'):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_identify_bottlenecks
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_code\code.py:369: RuntimeWarning: coroutine 'TestBatchCacheOperations.test_batch_get_ner_results' was never awaited
    yield TracebackEntry(cur_)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_identify_bottlenecks
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_code\code.py:369: RuntimeWarning: coroutine 'TestCacheWarmingService.test_execute_warming' was never awaited
    yield TracebackEntry(cur_)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_identify_bottlenecks
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_code\code.py:369: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_analyze_performance' was never awaited
    yield TracebackEntry(cur_)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_identify_bottlenecks
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_code\code.py:369: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_optimize_performance' was never awaited
    yield TracebackEntry(cur_)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_full_optimization_cycle
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_io\terminalwriter.py:162: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_generate_optimization_recommendations' was never awaited
    msg = self.markup(msg, **markup)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_full_optimization_cycle
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_io\terminalwriter.py:162: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_calculate_performance_improvements' was never awaited
    msg = self.markup(msg, **markup)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_full_optimization_cycle
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_io\terminalwriter.py:162: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_memory_optimization' was never awaited
    msg = self.markup(msg, **markup)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_timeout
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_code\code.py:369: RuntimeWarning: coroutine 'TestExecutionEngine.test_execute_test_success' was never awaited
    yield TracebackEntry(cur_)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_timeout
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\_code\code.py:369: RuntimeWarning: coroutine 'TestExecutionEngine.test_execute_test_failure' was never awaited
    yield TracebackEntry(cur_)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_baseline_tests
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\pluggy\_manager.py:516: RuntimeWarning: coroutine 'TestExecutionEngine.test_execute_test_no_runner' was never awaited
    plugins_to_remove = {plug for plug in remove_plugins if hasattr(plug, name)}
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_baseline_tests
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\pluggy\_manager.py:516: RuntimeWarning: coroutine 'TestExecutionEngine.test_execute_tests_parallel' was never awaited
    plugins_to_remove = {plug for plug in remove_plugins if hasattr(plug, name)}
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_baseline_tests
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\pluggy\_manager.py:516: RuntimeWarning: coroutine 'TestExecutionEngine.test_execute_tests_parallel_with_disabled' was never awaited
    plugins_to_remove = {plug for plug in remove_plugins if hasattr(plug, name)}
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_calculate_summary_metrics
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\anyio\pytest_plugin.py:97: RuntimeWarning: coroutine 'TestPerformanceTestOrchestrator.test_run_optimization_tests' was never awaited
    def wrapper(anyio_backend: Any, request: SubRequest, **kwargs: Any) -> Any:
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_calculate_summary_metrics
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\anyio\pytest_plugin.py:97: RuntimeWarning: coroutine 'TestPerformanceTestOrchestrator.test_run_test_suite' was never awaited
    def wrapper(anyio_backend: Any, request: SubRequest, **kwargs: Any) -> Any:
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_calculate_summary_metrics
2025-10-21 12:52:47,478 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11962' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11962' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11962' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,478 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11946' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11946' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11946' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,479 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11958' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11958' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11958' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,479 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11957' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11957' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11957' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,479 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11955' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11955' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11955' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,479 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11938' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11938' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11938' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,479 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11952' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11952' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11952' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,480 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11928' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11928' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11928' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,480 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11949' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11949' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11949' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,480 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11932' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11932' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11932' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,480 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11961' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11961' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11961' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,480 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11945' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11945' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11945' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,480 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11954' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11954' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11954' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,481 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11951' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11951' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11951' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,481 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11948' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11948' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11948' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,481 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11931' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11931' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11931' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,481 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11937' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11937' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11937' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 12:52:47,481 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11927' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11927' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
Task was destroyed but it is pending!
task: <Task pending name='Task-11927' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\anyio\pytest_plugin.py:97: RuntimeWarning: coroutine 'TestPerformanceTestOrchestrator.test_run_full_performance_suite' was never awaited
    def wrapper(anyio_backend: Any, request: SubRequest, **kwargs: Any) -> Any:
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_phi_scrubber.py::test_scrub_logs_and_returns_original_when_wrapper_errors
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\textwrap.py:502: RuntimeWarning: coroutine 'test_integration_full_workflow' was never awaited
    return "".join(prefixed_lines())
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_corrupted_logo_file_handling
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\enum.py:290: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_proactive_warming' was never awaited
    enum_member = enum_class._value2member_map_[value]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_corrupted_logo_file_handling
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\enum.py:290: RuntimeWarning: coroutine 'TestExecutionEngine.test_execute_test_timeout' was never awaited
    enum_member = enum_class._value2member_map_[value]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_corrupted_logo_file_handling
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\enum.py:290: RuntimeWarning: coroutine 'TestPerformanceTestOrchestrator.test_run_baseline_tests' was never awaited
    enum_member = enum_class._value2member_map_[value]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_report_branding_service.py::TestIntegrationScenarios::test_corrupted_logo_file_handling
  C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\enum.py:290: RuntimeWarning: coroutine 'TestPerformanceTestOrchestrator.test_run_nonexistent_suite' was never awaited
    enum_member = enum_class._value2member_map_[value]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_get_system_metrics
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_system_optimization
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_system_optimization_aggressive_mode
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_callback_registration
tests/unit/test_system_integration_service.py::TestSystemIntegrationService::test_system_status_report
tests/unit/test_system_integration_service.py::TestIntegration::test_end_to_end_system_integration
tests/unit/test_system_integration_service.py::TestIntegration::test_service_lifecycle
tests/unit/test_system_integration_service.py::TestIntegration::test_auto_optimization_trigger
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\stash.py:108: RuntimeWarning: coroutine 'PerformanceOptimizer.analyze_performance' was never awaited
    del self._storage[key]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_system_integration_service.py::TestIntegration::test_end_to_end_system_integration
  C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\memory_manager.py:355: RuntimeWarning: coroutine 'TestPerformanceOptimizer.test_identify_bottlenecks' was never awaited
    collected = gc.collect(generation)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/unit/test_system_integration_service.py::TestIntegration::test_end_to_end_system_integration
  C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Lib\site-packages\_pytest\stash.py:108: RuntimeWarning: coroutine 'PerformanceOptimizer.optimize_performance' was never awaited
    del self._storage[key]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_websocket_integration
FAILED tests/integration/test_enhanced_features_integration.py::TestEnhancedFeaturesIntegration::test_database_integration
FAILED tests/integration/test_enhanced_features_integration.py::TestPerformanceIntegration::test_metrics_collection_integration
FAILED tests/integration/test_enhanced_features_integration.py::TestPerformanceIntegration::test_performance_monitoring_integration
FAILED tests/performance/test_load_performance.py::TestPerformanceLoad::test_single_request_performance
FAILED tests/performance/test_load_performance.py::TestPerformanceLoad::test_metrics_collection_performance
FAILED tests/performance/test_load_performance.py::TestPerformanceLoad::test_memory_usage_under_load
FAILED tests/performance/test_load_performance.py::TestPerformanceLoad::test_websocket_performance
FAILED tests/performance/test_load_performance.py::TestPerformanceLoad::test_security_headers_performance
FAILED tests/performance/test_load_performance.py::TestPerformanceLoad::test_rate_limiting_performance
FAILED tests/performance/test_load_performance.py::TestStressTesting::test_sustained_load_stress
FAILED tests/test_new_components.py::TestUnifiedMLSystem::test_document_analysis_with_caching
FAILED tests/test_new_components.py::TestUnifiedMLSystem::test_performance_monitoring
FAILED tests/test_new_components.py::TestCachingSystem::test_cache_operations
FAILED tests/test_new_components.py::TestTypeSafety::test_string_validator - ...
FAILED tests/test_new_components.py::TestTypeSafety::test_email_validator - N...
FAILED tests/test_new_components.py::TestTypeSafety::test_error_handler - Nam...
FAILED tests/test_new_components.py::TestIntegration::test_full_pipeline_integration
FAILED tests/unit/test_analysis_service_pipeline.py::test_analysis_service_uses_analysis_utils
FAILED tests/unit/test_database_crud.py::test_get_rubric - assert None is not...
FAILED tests/unit/test_database_crud.py::test_update_rubric - AttributeError:...
FAILED tests/unit/test_database_crud.py::test_delete_rubric - assert False is...
FAILED tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_generic_exception_handling
FAILED tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_debug_mode_response
FAILED tests/unit/test_enhanced_error_context.py::TestEnhancedExceptionHandler::test_error_handler_exception_safety
FAILED tests/unit/test_llm_service_backend.py::test_transformers_generate_applies_stop_sequences
FAILED tests/unit/test_metrics_collector.py::TestSystemMetricsSource::test_system_metrics_collection
FAILED tests/unit/test_metrics_collector.py::TestSystemMetricsSource::test_system_metrics_error_handling
FAILED tests/unit/test_metrics_collector.py::TestApplicationMetricsSource::test_application_metrics_collection
FAILED tests/unit/test_metrics_collector.py::TestAIModelMetricsSource::test_ai_metrics_collection
FAILED tests/unit/test_metrics_collector.py::TestMetricsCollector::test_metrics_collection
FAILED tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_insufficient_training_data
FAILED tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_successful_training_and_deployment
FAILED tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_training_with_insufficient_improvement
FAILED tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_training_error_handling
FAILED tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_skipped_training_due_to_time
FAILED tests/unit/test_ml_trainer.py::test_legacy_function_compatibility - Ru...
FAILED tests/unit/test_ml_trainer.py::TestMLTrainingIntegration::test_end_to_end_training_pipeline
FAILED tests/unit/test_performance_metrics.py::TestMetricsCollector::test_high_memory_warning
FAILED tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_get_embeddings
FAILED tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_set_embeddings
FAILED tests/unit/test_performance_optimizer.py::TestBatchCacheOperations::test_batch_get_ner_results
FAILED tests/unit/test_performance_optimizer.py::TestCacheWarmingService::test_execute_warming
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_analyze_performance
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_optimize_performance
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_identify_bottlenecks
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_generate_optimization_recommendations
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_calculate_performance_improvements
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_memory_optimization
FAILED tests/unit/test_performance_optimizer.py::TestPerformanceOptimizer::test_proactive_warming
FAILED tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_success
FAILED tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_failure
FAILED tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_timeout
FAILED tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_test_no_runner
FAILED tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_tests_parallel
FAILED tests/unit/test_performance_test_orchestrator.py::TestExecutionEngine::test_execute_tests_parallel_with_disabled
FAILED tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_baseline_tests
FAILED tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_optimization_tests
FAILED tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_test_suite
FAILED tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_full_performance_suite
FAILED tests/unit/test_performance_test_orchestrator.py::TestPerformanceTestOrchestrator::test_run_nonexistent_suite
FAILED tests/unit/test_performance_test_orchestrator.py::test_integration_full_workflow
ERROR tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_complete_analysis_workflow
ERROR tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_analysis_with_different_document_types
ERROR tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_concurrent_analysis
ERROR tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_error_handling_invalid_document
ERROR tests/e2e/test_document_analysis_workflow.py::TestDocumentAnalysisWorkflow::test_analysis_progress_monitoring
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_discovery_workflow
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_lifecycle_management
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_extension_points
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_batch_operations
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_error_handling
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_performance_monitoring
ERROR tests/e2e/test_plugin_system_workflow.py::TestPluginSystemWorkflow::test_plugin_integration_with_analysis
ERROR tests/test_api_analysis.py::test_analyze_document_api_route - apschedul...
ERROR tests/test_api_analysis.py::test_analyze_document_rejects_invalid_strictness
ERROR tests/test_api_analysis.py::test_analyze_document_rejects_oversized_file
ERROR tests/test_new_components.py::TestSecurityMiddleware::test_sql_injection_detection
ERROR tests/test_new_components.py::TestSecurityMiddleware::test_xss_detection
ERROR tests/test_new_components.py::TestSecurityMiddleware::test_rate_limiting
= 62 failed, 677 passed, 28 skipped, 44 warnings, 18 errors in 448.21s (0:07:28) =
--- Logging error ---
Traceback (most recent call last):
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\logging\__init__.py", line 1113, in emit
    stream.write(msg + self.terminator)
ValueError: I/O operation on closed file.
Call stack:
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\memory_manager.py", line 449, in stop
    logger.info("Memory manager stopped")
Message: 'Memory manager stopped'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\logging\__init__.py", line 1113, in emit
    stream.write(msg + self.terminator)
ValueError: I/O operation on closed file.
Call stack:
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\memory_manager.py", line 449, in stop
    logger.info("Memory manager stopped")
Message: 'Memory manager stopped'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Users\kevin\AppData\Local\Programs\Python\Python311\Lib\logging\__init__.py", line 1113, in emit
    stream.write(msg + self.terminator)
ValueError: I/O operation on closed file.
Call stack:
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\memory_manager.py", line 449, in stop
    logger.info("Memory manager stopped")
Message: 'Memory manager stopped'
Arguments: ()
