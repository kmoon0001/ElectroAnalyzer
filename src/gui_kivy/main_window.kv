#:kivy 2.1.0
#:import colors src.gui_kivy.kivy_theme.colors

<MainWindow>:
    orientation: 'vertical'
    spacing: 12
    padding: 12
    canvas.before:
        Color:
            rgba: colors['bg_primary']
        Rectangle:
            pos: self.pos
            size: self.size

    # 1. Header
    BoxLayout:
        size_hint_y: None
        height: '60dp'
        padding: [12, 0, 12, 0]
        canvas.before:
            Color:
                rgba: colors['bg_secondary']
            Rectangle:
                pos: self.pos
                size: self.size
            Color:
                rgba: colors['border_light']
            Line:
                points: [self.x, self.y, self.right, self.y]
                width: 1
        Image:
            source: 'src/resources/app_icon.png'
            size_hint_x: None
            width: '48dp'
            allow_stretch: True
        Label:
            text: 'Therapy Compliance Analyzer'
            font_size: '20sp'
            bold: True
            color: colors['text_primary']
            halign: 'left'
            valign: 'middle'
            text_size: self.size

    # 2. Main Tabbed Panel
    TabbedPanel:
        id: main_tabs
        do_default_tab: False
        tab_pos: 'top_left'
        tab_height: '48dp'
        background_color: colors['bg_primary']

        TabbedPanelItem:
            text: 'Analysis'
            font_size: '14sp'
            bold: True
            background_color: colors['bg_secondary']
            color: colors['text_secondary']
            Label:
                text: 'Analysis Content Area'
                color: colors['text_primary']

        TabbedPanelItem:
            text: 'Dashboard'
            font_size: '14sp'
            bold: True
            background_color: colors['bg_secondary']
            color: colors['text_secondary']
            Label:
                text: 'Dashboard Content Area'
                color: colors['text_primary']

        TabbedPanelItem:
            text: 'Mission Control'
            font_size: '14sp'
            bold: True
            background_color: colors['bg_secondary']
            color: colors['text_secondary']
            Label:
                text: 'Mission Control Content Area'
                color: colors['text_primary']

        TabbedPanelItem:
            text: 'Settings'
            font_size: '14sp'
            bold: True
            background_color: colors['bg_secondary']
            color: colors['text_secondary']
            Label:
                text: 'Settings Content Area'
                color: colors['text_primary']

    # 3. Status Bar
    BoxLayout:
        size_hint_y: None
        height: '32dp'
        padding: [12, 0, 12, 0]
        canvas.before:
            Color:
                rgba: colors['bg_secondary']
            Rectangle:
                pos: self.pos
                size: self.size
            Color:
                rgba: colors['border_light']
            Line:
                points: [self.x, self.top, self.right, self.top]
                width: 1
        Label:
            text: 'Ready'
            color: colors['text_secondary']
            halign: 'left'
            valign: 'middle'
            text_size: self.size
