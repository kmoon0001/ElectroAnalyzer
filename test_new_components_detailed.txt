============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\kevin\Desktop\ElectroAnalyzer
configfile: pytest.ini
plugins: anyio-4.11.0, asyncio-0.25.0, cov-6.0.0, mock-3.14.0, xdist-3.6.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None
collecting ... collected 20 items

tests/test_new_components.py::TestUnifiedMLSystem::test_document_analysis_success PASSED [  5%]
tests/test_new_components.py::TestUnifiedMLSystem::test_document_analysis_with_caching PASSED [ 10%]
tests/test_new_components.py::TestUnifiedMLSystem::test_circuit_breaker_functionality PASSED [ 15%]
tests/test_new_components.py::TestUnifiedMLSystem::test_performance_monitoring FAILED [ 20%]
tests/test_new_components.py::TestUnifiedMLSystem::test_system_health_check PASSED [ 25%]
tests/test_new_components.py::TestSecurityMiddleware::test_sql_injection_detection FAILED [ 30%]
tests/test_new_components.py::TestSecurityMiddleware::test_xss_detection FAILED [ 35%]
tests/test_new_components.py::TestSecurityMiddleware::test_rate_limiting PASSED [ 40%]
tests/test_new_components.py::TestCachingSystem::test_cache_operations PASSED [ 45%]
tests/test_new_components.py::TestCachingSystem::test_cache_performance PASSED [ 50%]
tests/test_new_components.py::TestTypeSafety::test_result_type_success PASSED [ 55%]
tests/test_new_components.py::TestTypeSafety::test_result_type_failure PASSED [ 60%]
tests/test_new_components.py::TestTypeSafety::test_string_validator FAILED [ 65%]
tests/test_new_components.py::TestTypeSafety::test_email_validator FAILED [ 70%]
tests/test_new_components.py::TestTypeSafety::test_error_handler FAILED  [ 75%]
tests/test_new_components.py::TestPerformance::test_ml_system_performance FAILED [ 80%]
tests/test_new_components.py::TestPerformance::test_cache_performance PASSED [ 85%]
tests/test_new_components.py::TestIntegration::test_full_pipeline_integration FAILED [ 90%]
tests/test_new_components.py::TestBenchmarks::test_ml_system_benchmark PASSED [ 95%]
tests/test_new_components.py::TestBenchmarks::test_cache_benchmark PASSED [100%]

================================== FAILURES ===================================
_______________ TestUnifiedMLSystem.test_performance_monitoring _______________
tests\test_new_components.py:202: in test_performance_monitoring
    assert ml_system.metrics.total_requests > initial_metrics.total_requests
E   assert 1 > 1
E    +  where 1 = MLMetrics(total_requests=1, successful_requests=1, failed_requests=0, average_response_time_ms=3.9709999999999996, cache_hit_rate=0.0, confidence_calibration_accuracy=0.0, ensemble_agreement_score=0.0, bias_detection_rate=0.0, last_updated=datetime.datetime(2025, 10, 21, 14, 37, 22, 852520)).total_requests
E    +    where MLMetrics(total_requests=1, successful_requests=1, failed_requests=0, average_response_time_ms=3.9709999999999996, cache_hit_rate=0.0, confidence_calibration_accuracy=0.0, ensemble_agreement_score=0.0, bias_detection_rate=0.0, last_updated=datetime.datetime(2025, 10, 21, 14, 37, 22, 852520)) = <src.core.unified_ml_system.UnifiedMLSystem object at 0x000002BAB9E1FE10>.metrics
E    +  and   1 = MLMetrics(total_requests=1, successful_requests=1, failed_requests=0, average_response_time_ms=3.9709999999999996, cache_hit_rate=0.0, confidence_calibration_accuracy=0.0, ensemble_agreement_score=0.0, bias_detection_rate=0.0, last_updated=datetime.datetime(2025, 10, 21, 14, 37, 22, 852520)).total_requests
---------------------------- Captured stdout setup ----------------------------
2025-10-21 14:37:22,848 - src.core.advanced_ensemble_optimizer - INFO - Advanced ensemble optimizer initialized with learning=True
2025-10-21 14:37:22,848 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
2025-10-21 14:37:22,848 - src.core.multi_tier_cache - INFO - Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
2025-10-21 14:37:22,848 - src.core.advanced_security_system - INFO - Advanced security system initialized
2025-10-21 14:37:22,848 - src.core.unified_ml_system - INFO - Unified ML system initialized with dependency injection
----------------------------- Captured log setup ------------------------------
INFO     src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:140 Advanced ensemble optimizer initialized with learning=True
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.multi_tier_cache:multi_tier_cache.py:149 Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
INFO     src.core.advanced_security_system:advanced_security_system.py:87 Advanced security system initialized
INFO     src.core.unified_ml_system:unified_ml_system.py:266 Unified ML system initialized with dependency injection
---------------------------- Captured stdout call -----------------------------
2025-10-21 14:37:22,848 - src.core.advanced_ensemble_optimizer - ERROR - Ensemble prediction failed: No models available for ensemble prediction
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\advanced_ensemble_optimizer.py", line 202, in predict_with_ensemble
    raise ValueError("No models available for ensemble prediction")
ValueError: No models available for ensemble prediction
2025-10-21 14:37:22,852 - src.core.unified_explanation_engine - INFO - Generated comprehensive explanation with 2 explanation types
2025-10-21 14:37:22,852 - src.core.unified_ml_system - INFO - Document analysis completed for request 9c8d382f-46f7-4277-9af6-93a07000ac63 in 3.97ms
------------------------------ Captured log call ------------------------------
ERROR    src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:236 Ensemble prediction failed: No models available for ensemble prediction
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\advanced_ensemble_optimizer.py", line 202, in predict_with_ensemble
    raise ValueError("No models available for ensemble prediction")
ValueError: No models available for ensemble prediction
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:280 Generated comprehensive explanation with 2 explanation types
INFO     src.core.unified_ml_system:unified_ml_system.py:315 Document analysis completed for request 9c8d382f-46f7-4277-9af6-93a07000ac63 in 3.97ms
_____________ TestSecurityMiddleware.test_sql_injection_detection _____________
tests\test_new_components.py:241: in test_sql_injection_detection
    threats = await security_middleware._detect_threats(mock_request)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\api\middleware\security_middleware.py:147: in _detect_threats
    request_data.update(dict(request.query_params))
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Mock.keys() returned a non-iterable (type Mock)
__________________ TestSecurityMiddleware.test_xss_detection __________________
tests\test_new_components.py:256: in test_xss_detection
    threats = await security_middleware._detect_threats(mock_request)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\api\middleware\security_middleware.py:147: in _detect_threats
    request_data.update(dict(request.query_params))
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Mock.keys() returned a non-iterable (type Mock)
____________________ TestTypeSafety.test_string_validator _____________________
tests\test_new_components.py:349: in test_string_validator
    assert result.is_success
E   assert False
E    +  where False = <src.core.type_safety.Result object at 0x000002BABB866CD0>.is_success
_____________________ TestTypeSafety.test_email_validator _____________________
tests\test_new_components.py:367: in test_email_validator
    result = validator.validate("test@example.com")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\core\type_safety.py:352: in validate
    if not re.match(self.email_pattern, str_value):
           ^^
E   NameError: name 're' is not defined
______________________ TestTypeSafety.test_error_handler ______________________
tests\test_new_components.py:384: in test_error_handler
    severity=ErrorSeverity.MEDIUM,
             ^^^^^^^^^^^^^
E   NameError: name 'ErrorSeverity' is not defined
_________________ TestPerformance.test_ml_system_performance __________________
tests\test_new_components.py:418: in test_ml_system_performance
    assert execution_time2 < execution_time
E   assert 0.0 < 0.0
---------------------------- Captured stdout call -----------------------------
2025-10-21 14:37:23,040 - src.core.advanced_ensemble_optimizer - INFO - Advanced ensemble optimizer initialized with learning=True
2025-10-21 14:37:23,040 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
2025-10-21 14:37:23,040 - src.core.multi_tier_cache - INFO - Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
2025-10-21 14:37:23,040 - src.core.advanced_security_system - INFO - Advanced security system initialized
2025-10-21 14:37:23,040 - src.core.unified_ml_system - INFO - Unified ML system initialized with dependency injection
2025-10-21 14:37:23,040 - src.core.advanced_ensemble_optimizer - ERROR - Ensemble prediction failed: No models available for ensemble prediction
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\advanced_ensemble_optimizer.py", line 202, in predict_with_ensemble
    raise ValueError("No models available for ensemble prediction")
ValueError: No models available for ensemble prediction
2025-10-21 14:37:23,040 - src.core.unified_explanation_engine - INFO - Generated comprehensive explanation with 2 explanation types
2025-10-21 14:37:23,040 - src.core.unified_ml_system - INFO - Document analysis completed for request aa57ecec-899f-4720-a20a-daba3a24dcf1 in 0.00ms
2025-10-21 14:37:23,040 - src.core.unified_ml_system - INFO - Cache hit for request aa57ecec-899f-4720-a20a-daba3a24dcf1
2025-10-21 14:37:23,310 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-14' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,315 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-4' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,315 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-8' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,315 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-7' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,315 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-13' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,315 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,315 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-22' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-23' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-26' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-27' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-29' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-30' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-32' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-33' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-35' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-36' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-38' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-39' coro=<MultiTierCacheSystem._metrics_reset_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:626> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-42' coro=<MultiTierCacheSystem._metrics_reset_task() done, defined at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:622> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-10-21 14:37:23,318 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-41' coro=<MultiTierCacheSystem._cleanup_task() running at C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\multi_tier_cache.py:608> wait_for=<Future pending cb=[Task.task_wakeup()]>>
------------------------------ Captured log call ------------------------------
INFO     src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:140 Advanced ensemble optimizer initialized with learning=True
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.multi_tier_cache:multi_tier_cache.py:149 Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
INFO     src.core.advanced_security_system:advanced_security_system.py:87 Advanced security system initialized
INFO     src.core.unified_ml_system:unified_ml_system.py:266 Unified ML system initialized with dependency injection
ERROR    src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:236 Ensemble prediction failed: No models available for ensemble prediction
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\advanced_ensemble_optimizer.py", line 202, in predict_with_ensemble
    raise ValueError("No models available for ensemble prediction")
ValueError: No models available for ensemble prediction
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:280 Generated comprehensive explanation with 2 explanation types
INFO     src.core.unified_ml_system:unified_ml_system.py:315 Document analysis completed for request aa57ecec-899f-4720-a20a-daba3a24dcf1 in 0.00ms
INFO     src.core.unified_ml_system:unified_ml_system.py:291 Cache hit for request aa57ecec-899f-4720-a20a-daba3a24dcf1
_______________ TestIntegration.test_full_pipeline_integration ________________
tests\test_new_components.py:469: in test_full_pipeline_integration
    assert response.processing_time_ms > 0
E   AssertionError: assert 0.0 > 0
E    +  where 0.0 = MLResponse(request_id='a95f140c-720d-48e4-8788-5a0995aaaa7f', analysis_result={'summary': 'Analysis of document with 124 characters', 'findings': [], 'confidence': 0.5, 'document_text': 'Patient presents with acute chest pain. Vital signs stable. EKG shows ST elevation. Immediate cardiac intervention required.', 'entities': [{'text': 'chest pain', 'label': 'SYMPTOM', 'confidence': 0.95}, {'text': 'ST elevation', 'label': 'DIAGNOSTIC', 'confidence': 0.98}, {'text': 'cardiac intervention', 'label': 'TREATMENT', 'confidence': 0.92}], 'retrieved_rules': [{'rule_id': 'cardiac_001', 'description': 'Immediate intervention for ST elevation', 'priority': 'high'}, {'rule_id': 'vital_002', 'description': 'Monitor vital signs continuously', 'priority': 'medium'}], 'confidence_metrics': ConfidenceMetrics(overall_confidence=0.405, entity_confidence=0.0, fact_check_confidence=0.5, context_confidence=0.5, reasoning='Confidence based on: weak entity recognition, proper output format, output quality concerns'), 'ensemble_result': EnsembleResult(final_prediction=None, confidence=0.0, method_used=<EnsembleMethod.DYNAMIC_WEIGHTING: 'dynamic_weighting'>, individual_predictions=[], weights={}, agreemen...etected': False}, 'linguistic': {'patterns_found': [], 'bias_detected': False}, 'clinical': {'patterns_found': [], 'bias_detected': False}}, 'ethical_flags': ['user_consent_verified'], 'ensemble_agreement': 0.0, 'explanation_confidence': 0.07333333333333335}, 'bias_metrics': {'demographic_bias_score': 0.0, 'linguistic_bias_score': 0.0, 'clinical_bias_score': 0.0, 'fairness_metrics': {'demographic_parity': 0.85, 'equalized_odds': 0.82, 'calibration': 0.88}, 'bias_sources': [], 'mitigation_applied': [], 'overall_bias_score': 0.0}, 'ethical_metrics': {'privacy_compliance': 0.8, 'consent_verification': True, 'data_minimization': 0.9, 'purpose_limitation': False, 'transparency_score': 0.0, 'accountability_score': 1.0, 'ethical_flags': ['user_consent_verified'], 'overall_ethical_score': 0.675}, 'generated_at': datetime.datetime(2025, 10, 21, 14, 37, 23, 85304), 'explanation_id': '21a9d1d72251'}], 'accuracy_enhancement': {'techniques_applied': ['ensemble_voting', 'confidence_weighting', 'context_expansion'], 'confidence_improvement': 0.0, 'bias_reduction': 0.0}}, processing_time_ms=0.0, cache_hit=False, errors=[], warnings=[], timestamp=datetime.datetime(2025, 10, 21, 14, 37, 23, 85304)).processing_time_ms
---------------------------- Captured stdout call -----------------------------
2025-10-21 14:37:23,083 - src.core.advanced_ensemble_optimizer - INFO - Advanced ensemble optimizer initialized with learning=True
2025-10-21 14:37:23,083 - src.core.unified_explanation_engine - INFO - Unified explanation engine initialized with caching=True
2025-10-21 14:37:23,083 - src.core.multi_tier_cache - INFO - Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
2025-10-21 14:37:23,083 - src.core.advanced_security_system - INFO - Advanced security system initialized
2025-10-21 14:37:23,085 - src.core.unified_ml_system - INFO - Unified ML system initialized with dependency injection
2025-10-21 14:37:23,085 - src.core.multi_tier_cache - INFO - Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
2025-10-21 14:37:23,085 - src.core.advanced_security_system - INFO - Advanced security system initialized
2025-10-21 14:37:23,085 - src.core.advanced_ensemble_optimizer - ERROR - Ensemble prediction failed: No models available for ensemble prediction
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\advanced_ensemble_optimizer.py", line 202, in predict_with_ensemble
    raise ValueError("No models available for ensemble prediction")
ValueError: No models available for ensemble prediction
2025-10-21 14:37:23,085 - src.core.unified_explanation_engine - INFO - Generated comprehensive explanation with 2 explanation types
2025-10-21 14:37:23,085 - src.core.unified_ml_system - INFO - Document analysis completed for request a95f140c-720d-48e4-8788-5a0995aaaa7f in 0.00ms
------------------------------ Captured log call ------------------------------
INFO     src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:140 Advanced ensemble optimizer initialized with learning=True
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:214 Unified explanation engine initialized with caching=True
INFO     src.core.multi_tier_cache:multi_tier_cache.py:149 Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
INFO     src.core.advanced_security_system:advanced_security_system.py:87 Advanced security system initialized
INFO     src.core.unified_ml_system:unified_ml_system.py:266 Unified ML system initialized with dependency injection
INFO     src.core.multi_tier_cache:multi_tier_cache.py:149 Multi-tier cache system initialized: L1=100MB, L2=False, L3=True, Policy=lru
INFO     src.core.advanced_security_system:advanced_security_system.py:87 Advanced security system initialized
ERROR    src.core.advanced_ensemble_optimizer:advanced_ensemble_optimizer.py:236 Ensemble prediction failed: No models available for ensemble prediction
Traceback (most recent call last):
  File "C:\Users\kevin\Desktop\ElectroAnalyzer\src\core\advanced_ensemble_optimizer.py", line 202, in predict_with_ensemble
    raise ValueError("No models available for ensemble prediction")
ValueError: No models available for ensemble prediction
INFO     src.core.unified_explanation_engine:unified_explanation_engine.py:280 Generated comprehensive explanation with 2 explanation types
INFO     src.core.unified_ml_system:unified_ml_system.py:315 Document analysis completed for request a95f140c-720d-48e4-8788-5a0995aaaa7f in 0.00ms
=========================== short test summary info ===========================
FAILED tests/test_new_components.py::TestUnifiedMLSystem::test_performance_monitoring
FAILED tests/test_new_components.py::TestSecurityMiddleware::test_sql_injection_detection
FAILED tests/test_new_components.py::TestSecurityMiddleware::test_xss_detection
FAILED tests/test_new_components.py::TestTypeSafety::test_string_validator - ...
FAILED tests/test_new_components.py::TestTypeSafety::test_email_validator - N...
FAILED tests/test_new_components.py::TestTypeSafety::test_error_handler - Nam...
FAILED tests/test_new_components.py::TestPerformance::test_ml_system_performance
FAILED tests/test_new_components.py::TestIntegration::test_full_pipeline_integration
======================== 8 failed, 12 passed in 0.38s =========================
