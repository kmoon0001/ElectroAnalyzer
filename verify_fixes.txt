============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\kevin\Desktop\ElectroAnalyzer\venv_test\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\kevin\Desktop\ElectroAnalyzer
configfile: pytest.ini
plugins: anyio-4.11.0, asyncio-0.25.0, cov-6.0.0, mock-3.14.0, xdist-3.6.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None
collecting ... collected 70 items

tests/test_api_analysis.py::test_analyze_document_api_route PASSED       [  1%]
tests/test_api_analysis.py::test_analyze_document_rejects_invalid_strictness PASSED [  2%]
tests/test_api_analysis.py::test_analyze_document_rejects_oversized_file PASSED [  4%]
tests/test_api_analysis.py::test_run_analysis_and_save_persists_strictness_and_metadata PASSED [  5%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_valid_pdf_filename PASSED [  7%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_valid_docx_filename PASSED [  8%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_valid_txt_filename PASSED [ 10%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_empty_filename PASSED [ 11%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_path_traversal_dots PASSED [ 12%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_path_traversal_forward_slash PASSED [ 14%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_path_traversal_backslash PASSED [ 15%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_invalid_extension PASSED [ 17%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_filename_too_long PASSED [ 18%]
tests/unit/test_security_validator.py::TestFilenameValidation::test_case_insensitive_extension PASSED [ 20%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_valid_file_size PASSED [ 21%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_empty_file PASSED [ 22%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_file_too_large PASSED [ 24%]
tests/unit/test_security_validator.py::TestFileSizeValidation::test_max_file_size_boundary PASSED [ 25%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_valid_pt_discipline PASSED [ 27%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_valid_ot_discipline PASSED [ 28%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_valid_slp_discipline PASSED [ 30%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_case_insensitive_discipline PASSED [ 31%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_invalid_discipline PASSED [ 32%]
tests/unit/test_security_validator.py::TestDisciplineValidation::test_empty_discipline PASSED [ 34%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_valid_rubric_mode PASSED [ 35%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_valid_checklist_mode PASSED [ 37%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_valid_hybrid_mode PASSED [ 38%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_case_insensitive_mode PASSED [ 40%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_invalid_mode PASSED [ 41%]
tests/unit/test_security_validator.py::TestAnalysisModeValidation::test_empty_mode PASSED [ 42%]
tests/unit/test_security_validator.py::TestTextSanitization::test_clean_text_unchanged PASSED [ 44%]
tests/unit/test_security_validator.py::TestTextSanitization::test_script_tag_removed PASSED [ 45%]
tests/unit/test_security_validator.py::TestTextSanitization::test_javascript_protocol_removed PASSED [ 47%]
tests/unit/test_security_validator.py::TestTextSanitization::test_onerror_attribute_removed PASSED [ 48%]
tests/unit/test_security_validator.py::TestTextSanitization::test_path_traversal_removed PASSED [ 50%]
tests/unit/test_security_validator.py::TestTextSanitization::test_empty_text_returns_empty PASSED [ 51%]
tests/unit/test_security_validator.py::TestTextSanitization::test_text_length_limit_enforced PASSED [ 52%]
tests/unit/test_security_validator.py::TestTextSanitization::test_custom_max_length PASSED [ 54%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_valid_username PASSED [ 55%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_numbers PASSED [ 57%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_hyphen PASSED [ 58%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_empty_username PASSED [ 60%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_spaces PASSED [ 61%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_with_special_chars PASSED [ 62%]
tests/unit/test_security_validator.py::TestUsernameValidation::test_username_too_long PASSED [ 64%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_valid_strong_password PASSED [ 65%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_empty_password PASSED [ 67%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_too_short PASSED [ 68%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_no_uppercase PASSED [ 70%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_no_lowercase PASSED [ 71%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_no_digit PASSED [ 72%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_too_long PASSED [ 74%]
tests/unit/test_security_validator.py::TestPasswordValidation::test_password_with_special_chars PASSED [ 75%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_clean_filename_unchanged PASSED [ 77%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_spaces_replaced_with_underscores PASSED [ 78%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_special_chars_removed PASSED [ 80%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_path_stripped PASSED [ 81%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_long_filename_truncated PASSED [ 82%]
tests/unit/test_security_validator.py::TestFilenameSanitization::test_unicode_characters_handled PASSED [ 84%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_initialization PASSED [ 85%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_insufficient_training_data PASSED [ 87%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_successful_training_and_deployment PASSED [ 88%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_training_with_insufficient_improvement PASSED [ 90%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_should_retrain_time_based PASSED [ 91%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_get_next_training_time PASSED [ 92%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_update_training_metadata PASSED [ 94%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_training_error_handling PASSED [ 95%]
tests/unit/test_ml_trainer.py::TestMLTrainingPipeline::test_skipped_training_due_to_time PASSED [ 97%]
tests/unit/test_ml_trainer.py::test_legacy_function_compatibility PASSED [ 98%]
tests/unit/test_ml_trainer.py::TestMLTrainingIntegration::test_end_to_end_training_pipeline PASSED [100%]

============================= 70 passed in 3.99s ==============================
